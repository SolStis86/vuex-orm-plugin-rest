!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("os"),require("tty"),require("http"),require("https"),require("stream"),require("zlib")):"function"==typeof define&&define.amd?define(["os","tty","http","https","stream","zlib"],e):t.vuexOrmRest=e(t.os,t.tty,t.http,t.https,t.stream,t.zlib)}(this,function(t,e,n,r,o,i){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o,i=i&&i.hasOwnProperty("default")?i.default:i;var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function u(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})}function c(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var f=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}};function l(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var h=Object.prototype.toString;function p(t){return"[object Array]"===h.call(t)}function d(t){return null!==t&&"object"==typeof t}function y(t){return"[object Function]"===h.call(t)}function m(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),p(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var g={isArray:p,isArrayBuffer:function(t){return"[object ArrayBuffer]"===h.call(t)},isBuffer:function(t){return null!=t&&(l(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&l(t.slice(0,0))}(t)||!!t._isBuffer)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:d,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===h.call(t)},isFile:function(t){return"[object File]"===h.call(t)},isBlob:function(t){return"[object Blob]"===h.call(t)},isFunction:y,isStream:function(t){return d(t)&&y(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:m,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)m(arguments[r],n);return e},extend:function(t,e,n){return m(e,function(e,r){t[r]=n&&"function"==typeof e?f(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}},v=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t},b=function(t,e,n,r,o){var i=new Error(t);return v(i,e,n,r,o)},w=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(b("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)};function O(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var j=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(g.isURLSearchParams(e))r=e.toString();else{var o=[];g.forEach(e,function(t,e){null!==t&&void 0!==t&&(g.isArray(t)?e+="[]":t=[t],g.forEach(t,function(t){g.isDate(t)?t=t.toISOString():g.isObject(t)&&(t=JSON.stringify(t)),o.push(O(e)+"="+O(t))}))}),r=o.join("&")}return r&&(t+=(-1===t.indexOf("?")?"?":"&")+r),t},_=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],A=g.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=g.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E(){this.message="String contains an invalid character"}E.prototype=new Error,E.prototype.code=5,E.prototype.name="InvalidCharacterError";var C=function(t){for(var e,n,r=String(t),o="",i=0,s=x;r.charAt(0|i)||(s="=",i%1);o+=s.charAt(63&e>>8-i%1*8)){if((n=r.charCodeAt(i+=.75))>255)throw new E;e=e<<8|n}return o},k=g.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var s=[];s.push(t+"="+encodeURIComponent(e)),g.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),g.isString(r)&&s.push("path="+r),g.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},S="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||C,R=function(t){return new Promise(function(e,n){var r=t.data,o=t.headers;g.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest,s="onreadystatechange",a=!1;if("test"===process.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in i||A(t.url)||(i=new window.XDomainRequest,s="onload",a=!0,i.onprogress=function(){},i.ontimeout=function(){}),t.auth){var u=t.auth.username||"",c=t.auth.password||"";o.Authorization="Basic "+S(u+":"+c)}if(i.open(t.method.toUpperCase(),j(t.url,t.params,t.paramsSerializer),!0),i.timeout=t.timeout,i[s]=function(){if(i&&(4===i.readyState||a)&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,s,u,c,f="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),c={},r?(g.forEach(r.split("\n"),function(t){if(u=t.indexOf(":"),o=g.trim(t.substr(0,u)).toLowerCase(),s=g.trim(t.substr(u+1)),o){if(c[o]&&_.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([s]):c[o]?c[o]+", "+s:s}}),c):c):null,l={data:t.responseType&&"text"!==t.responseType?i.response:i.responseText,status:1223===i.status?204:i.status,statusText:1223===i.status?"No Content":i.statusText,headers:f,config:t,request:i};w(e,n,l),i=null}},i.onerror=function(){n(b("Network Error",t,null,i)),i=null},i.ontimeout=function(){n(b("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",i)),i=null},g.isStandardBrowserEnv()){var f=k,l=(t.withCredentials||A(t.url))&&t.xsrfCookieName?f.read(t.xsrfCookieName):void 0;l&&(o[t.xsrfHeaderName]=l)}if("setRequestHeader"in i&&g.forEach(o,function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete o[e]:i.setRequestHeader(e,t)}),t.withCredentials&&(i.withCredentials=!0),t.responseType)try{i.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&i.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){i&&(i.abort(),n(t),i=null)}),void 0===r&&(r=null),i.send(r)})},F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function $(t,e){return t(e={exports:{}},e.exports),e.exports}var M=$(function(t,e){!function(n){var r=e&&!e.nodeType&&e,o=t&&!t.nodeType&&t,i="object"==typeof F&&F;i.global!==i&&i.window!==i&&i.self!==i||(n=i);var s,a,u=2147483647,c=36,f=1,l=26,h=38,p=700,d=72,y=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=c-f,j=Math.floor,_=String.fromCharCode;function A(t){throw RangeError(w[t])}function x(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function E(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+x((t=t.replace(b,".")).split("."),e).join(".")}function C(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function k(t){return x(t,function(t){var e="";return t>65535&&(e+=_((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=_(t)}).join("")}function S(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function R(t,e,n){var r=0;for(t=n?j(t/p):t>>1,t+=j(t/e);t>O*l>>1;r+=c)t=j(t/O);return j(r+(O+1)*t/(t+h))}function $(t){var e,n,r,o,i,s,a,h,p,g,v,b=[],w=t.length,O=0,_=y,x=d;for((n=t.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&A("not-basic"),b.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<w;){for(i=O,s=1,a=c;o>=w&&A("invalid-input"),((h=(v=t.charCodeAt(o++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:c)>=c||h>j((u-O)/s))&&A("overflow"),O+=h*s,!(h<(p=a<=x?f:a>=x+l?l:a-x));a+=c)s>j(u/(g=c-p))&&A("overflow"),s*=g;x=R(O-i,e=b.length+1,0==i),j(O/e)>u-_&&A("overflow"),_+=j(O/e),O%=e,b.splice(O++,0,_)}return k(b)}function M(t){var e,n,r,o,i,s,a,h,p,g,v,b,w,O,x,E=[];for(b=(t=C(t)).length,e=y,n=0,i=d,s=0;s<b;++s)(v=t[s])<128&&E.push(_(v));for(r=o=E.length,o&&E.push(m);r<b;){for(a=u,s=0;s<b;++s)(v=t[s])>=e&&v<a&&(a=v);for(a-e>j((u-n)/(w=r+1))&&A("overflow"),n+=(a-e)*w,e=a,s=0;s<b;++s)if((v=t[s])<e&&++n>u&&A("overflow"),v==e){for(h=n,p=c;!(h<(g=p<=i?f:p>=i+l?l:p-i));p+=c)x=h-g,O=c-g,E.push(_(S(g+x%O,0))),h=j(x/O);E.push(_(S(h,0))),i=R(n,w,r==o),n=0,++r}++n,++e}return E.join("")}if(s={version:"1.3.2",ucs2:{decode:C,encode:k},decode:$,encode:M,toASCII:function(t){return E(t,function(t){return v.test(t)?"xn--"+M(t):t})},toUnicode:function(t){return E(t,function(t){return g.test(t)?$(t.slice(4).toLowerCase()):t})}},r&&o)if(t.exports==r)o.exports=s;else for(a in s)s.hasOwnProperty(a)&&(r[a]=s[a]);else n.punycode=s}(F)}),P={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var B=function(t,e,n,r){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var i=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,f,l,h,p=t[u].replace(i,"%20"),d=p.indexOf(n);d>=0?(c=p.substr(0,d),f=p.substr(d+1)):(c=p,f=""),l=decodeURIComponent(c),h=decodeURIComponent(f),I(o,l)?Array.isArray(o[l])?o[l].push(h):o[l]=[o[l],h]:o[l]=h}return o},T=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},z=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var o=encodeURIComponent(T(r))+n;return Array.isArray(t[r])?t[r].map(function(t){return o+encodeURIComponent(T(t))}).join(e):o+encodeURIComponent(T(t[r]))}).join(e):r?encodeURIComponent(T(r))+n+encodeURIComponent(T(t)):""},U=$(function(t,e){e.decode=e.parse=B,e.encode=e.stringify=z}),N=(U.decode,U.parse,U.encode,U.stringify,ot),q=function(t,e){return ot(t,!1,!0).resolve(e)},K=function(t,e){return t?ot(t,!1,!0).resolveObject(e):e},D=function(t){P.isString(t)&&(t=ot(t));return t instanceof H?t.format():H.prototype.format.call(t)},L=H;function H(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var G=/^([a-z0-9.+-]+:)/i,W=/:[0-9]*$/,V=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,J=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),X=["'"].concat(J),Q=["%","/","?",";","#"].concat(X),Z=["/","?","#"],Y=/^[+a-z0-9A-Z_-]{0,63}$/,tt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,et={javascript:!0,"javascript:":!0},nt={javascript:!0,"javascript:":!0},rt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ot(t,e,n){if(t&&P.isObject(t)&&t instanceof H)return t;var r=new H;return r.parse(t,e,n),r}H.prototype.parse=function(t,e,n){if(!P.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),o=-1!==r&&r<t.indexOf("#")?"?":"#",i=t.split(o);i[0]=i[0].replace(/\\/g,"/");var s=t=i.join(o);if(s=s.trim(),!n&&1===t.split("#").length){var a=V.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?U.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=G.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===s.substr(0,2);!f||u&&nt[u]||(s=s.substr(2),this.slashes=!0)}if(!nt[u]&&(f||u&&!rt[u])){for(var l,h,p=-1,d=0;d<Z.length;d++){-1!==(y=s.indexOf(Z[d]))&&(-1===p||y<p)&&(p=y)}-1!==(h=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(l=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(l)),p=-1;for(d=0;d<Q.length;d++){var y;-1!==(y=s.indexOf(Q[d]))&&(-1===p||y<p)&&(p=y)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),v=(d=0,g.length);d<v;d++){var b=g[d];if(b&&!b.match(Y)){for(var w="",O=0,j=b.length;O<j;O++)b.charCodeAt(O)>127?w+="x":w+=b[O];if(!w.match(Y)){var _=g.slice(0,d),A=g.slice(d+1),x=b.match(tt);x&&(_.push(x[1]),A.unshift(x[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=_.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=M.toASCII(this.hostname));var E=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+E,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!et[c])for(d=0,v=X.length;d<v;d++){var k=X[d];if(-1!==s.indexOf(k)){var S=encodeURIComponent(k);S===k&&(S=escape(k)),s=s.split(k).join(S)}}var R=s.indexOf("#");-1!==R&&(this.hash=s.substr(R),s=s.slice(0,R));var F=s.indexOf("?");if(-1!==F?(this.search=s.substr(F),this.query=s.substr(F+1),e&&(this.query=U.parse(this.query)),s=s.slice(0,F)):e&&(this.search="",this.query={}),s&&(this.pathname=s),rt[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){E=this.pathname||"";var $=this.search||"";this.path=E+$}return this.href=this.format(),this},H.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&P.isObject(this.query)&&Object.keys(this.query).length&&(i=U.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||rt[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},H.prototype.resolve=function(t){return this.resolveObject(ot(t,!1,!0)).format()},H.prototype.resolveObject=function(t){if(P.isString(t)){var e=new H;e.parse(t,!1,!0),t=e}for(var n=new H,r=Object.keys(this),o=0;o<r.length;o++){var i=r[o];n[i]=this[i]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=t[u])}return rt[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!rt[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var l=c[f];n[l]=t[l]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||nt[t.protocol])n.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",d=n.search||"";n.path=p+d}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=m||y||n.host&&t.pathname,v=g,b=n.pathname&&n.pathname.split("/")||[],w=(h=t.pathname&&t.pathname.split("/")||[],n.protocol&&!rt[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),g=g&&(""===h[0]||""===b[0])),m)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=h;else if(h.length)b||(b=[]),b.pop(),b=b.concat(h),n.search=t.search,n.query=t.query;else if(!P.isNullOrUndefined(t.search)){if(w)n.hostname=n.host=b.shift(),(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift());return n.search=t.search,n.query=t.query,P.isNull(n.pathname)&&P.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=b.slice(-1)[0],j=(n.host||t.host||b.length>1)&&("."===O||".."===O)||""===O,_=0,A=b.length;A>=0;A--)"."===(O=b[A])?b.splice(A,1):".."===O?(b.splice(A,1),_++):_&&(b.splice(A,1),_--);if(!g&&!v)for(;_--;_)b.unshift("..");!g||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),j&&"/"!==b.join("/").substr(-1)&&b.push("");var x,E=""===b[0]||b[0]&&"/"===b[0].charAt(0);w&&(n.hostname=n.host=E?"":b.length?b.shift():"",(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift()));return(g=g||n.host&&b.length)&&!E&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),P.isNull(n.pathname)&&P.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},H.prototype.parseHost=function(){var t=this.host,e=W.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var it={parse:N,resolve:q,resolveObject:K,format:D,Url:L},st=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var ct=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,o=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){for(var s in n=Object(arguments[i]))at.call(n,s)&&(o[s]=n[s]);if(st){r=st(n);for(var a=0;a<r.length;a++)ut.call(n,r[a])&&(o[r[a]]=n[r[a]])}}return o},ft=function(t){return t instanceof Buffer},lt=ht.inherits,ht=$(function(t,e){var n=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(i(arguments[r]));return e.join(" ")}r=1;for(var o=arguments,s=o.length,a=String(t).replace(n,function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(t){return"[Circular]"}default:return t}}),u=o[r];r<s;u=o[++r])p(u)||!v(u)?a+=" "+u:a+=" "+i(u);return a},e.deprecate=function(t,n){if(m(F.process))return function(){return e.deprecate(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var r,o={};function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),u(r,t,r.depth)}function s(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function u(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return y(o)||(o=u(t,o,r)),o}var i=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(d(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(p(e))return t.stylize("null","null")}(t,n);if(i)return i;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(n);if(0===s.length){if(O(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(g(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return c(n)}var j,_="",A=!1,E=["{","}"];(l(n)&&(A=!0,E=["[","]"]),O(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return g(n)&&(_=" "+RegExp.prototype.toString.call(n)),b(n)&&(_=" "+Date.prototype.toUTCString.call(n)),w(n)&&(_=" "+c(n)),0!==s.length||A&&0!=n.length?r<0?g(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),j=A?function(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)x(e,String(s))?i.push(f(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(t,e,n,r,o,!0))}),i}(t,n,r,a,s):s.map(function(e){return f(t,n,r,a,e,A)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(j,_,E)):E[0]+_+E[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),x(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=p(n)?u(t,c.value,null):u(t,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),m(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function l(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function p(t){return null===t}function d(t){return"number"==typeof t}function y(t){return"string"==typeof t}function m(t){return void 0===t}function g(t){return v(t)&&"[object RegExp]"===j(t)}function v(t){return"object"==typeof t&&null!==t}function b(t){return v(t)&&"[object Date]"===j(t)}function w(t){return v(t)&&("[object Error]"===j(t)||t instanceof Error)}function O(t){return"function"==typeof t}function j(t){return Object.prototype.toString.call(t)}function _(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(m(r)&&(r=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=process.pid;o[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else o[t]=function(){};return o[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=l,e.isBoolean=h,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=d,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=g,e.isObject=v,e.isDate=b,e.isError=w,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=ft;var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[_(t.getHours()),_(t.getMinutes()),_(t.getSeconds())].join(":"),[t.getDate(),A[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=lt,e._extend=function(t,e){if(!e||!v(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}),pt=(ht.format,ht.deprecate,ht.debuglog,ht.inspect,ht.isArray,ht.isBoolean,ht.isNull,ht.isNullOrUndefined,ht.isNumber,ht.isString,ht.isSymbol,ht.isUndefined,ht.isRegExp,ht.isObject,ht.isDate,ht.isError,ht.isFunction,ht.isPrimitive,ht.isBuffer,ht.log,ht.inherits,ht._extend,$(function(t){function e(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function n(t){return F.Buffer&&"function"==typeof F.Buffer.isBuffer?F.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var r=Object.prototype.hasOwnProperty,o=Array.prototype.slice,i="foo"===function(){}.name;function s(t){return Object.prototype.toString.call(t)}function a(t){return!n(t)&&("function"==typeof F.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var u=t.exports=d,c=/\s*function\s+([^\(\s]*)\s*/;function f(t){if(ht.isFunction(t)){if(i)return t.name;var e=t.toString().match(c);return e&&e[1]}}function l(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function h(t){if(i||!ht.isFunction(t))return ht.inspect(t);var e=f(t);return"[Function"+(e?": "+e:"")+"]"}function p(t,e,n,r,o){throw new u.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function d(t,e){t||p(t,!0,e,"==",u.ok)}function y(t,r,i,u){if(t===r)return!0;if(n(t)&&n(r))return 0===e(t,r);if(ht.isDate(t)&&ht.isDate(r))return t.getTime()===r.getTime();if(ht.isRegExp(t)&&ht.isRegExp(r))return t.source===r.source&&t.global===r.global&&t.multiline===r.multiline&&t.lastIndex===r.lastIndex&&t.ignoreCase===r.ignoreCase;if(null!==t&&"object"==typeof t||null!==r&&"object"==typeof r){if(a(t)&&a(r)&&s(t)===s(r)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===e(new Uint8Array(t.buffer),new Uint8Array(r.buffer));if(n(t)!==n(r))return!1;var c=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==c&&c===u.expected.indexOf(r)||(u.actual.push(t),u.expected.push(r),function(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(ht.isPrimitive(t)||ht.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=m(t),s=m(e);if(i&&!s||!i&&s)return!1;if(i)return t=o.call(t),e=o.call(e),y(t,e,n);var a,u,c=b(t),f=b(e);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),u=c.length-1;u>=0;u--)if(c[u]!==f[u])return!1;for(u=c.length-1;u>=0;u--)if(a=c[u],!y(t[a],e[a],n,r))return!1;return!0}(t,r,i,u))}return i?t===r:t==r}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function g(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function v(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&p(o,n,"Missing expected exception"+r);var i="string"==typeof r,s=!t&&ht.isError(o),a=!t&&o&&!n;if((s&&i&&g(o,n)||a)&&p(o,n,"Got unwanted exception"+r),t&&o&&n&&!g(o,n)||!t&&o)throw o}u.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(h((e=this).actual),128)+" "+e.operator+" "+l(h(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||p;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=f(n),s=o.indexOf("\n"+i);if(s>=0){var a=o.indexOf("\n",s+1);o=o.substring(a+1)}this.stack=o}}},ht.inherits(u.AssertionError,Error),u.fail=p,u.ok=d,u.equal=function(t,e,n){t!=e&&p(t,e,n,"==",u.equal)},u.notEqual=function(t,e,n){t==e&&p(t,e,n,"!=",u.notEqual)},u.deepEqual=function(t,e,n){y(t,e,!1)||p(t,e,n,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(t,e,n){y(t,e,!0)||p(t,e,n,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(t,e,n){y(t,e,!1)&&p(t,e,n,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function t(e,n,r){y(e,n,!0)&&p(e,n,r,"notDeepStrictEqual",t)},u.strictEqual=function(t,e,n){t!==e&&p(t,e,n,"===",u.strictEqual)},u.notStrictEqual=function(t,e,n){t===e&&p(t,e,n,"!==",u.notStrictEqual)},u.throws=function(t,e,n){v(!0,t,e,n)},u.doesNotThrow=function(t,e,n){v(!1,t,e,n)},u.ifError=function(t){if(t)throw t},u.strict=ct(function t(e,n){e||p(e,!0,n,"==",t)},u,{equal:u.strictEqual,deepEqual:u.deepStrictEqual,notEqual:u.notStrictEqual,notDeepEqual:u.notDeepStrictEqual}),u.strict.strict=u.strict;var b=Object.keys||function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e}})),dt=1e3,yt=60*dt,mt=60*yt,gt=24*mt,vt=7*gt,bt=365.25*gt,wt=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*bt;case"weeks":case"week":case"w":return n*vt;case"days":case"day":case"d":return n*gt;case"hours":case"hour":case"hrs":case"hr":case"h":return n*mt;case"minutes":case"minute":case"mins":case"min":case"m":return n*yt;case"seconds":case"second":case"secs":case"sec":case"s":return n*dt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=gt)return Ot(t,e,gt,"day");if(e>=mt)return Ot(t,e,mt,"hour");if(e>=yt)return Ot(t,e,yt,"minute");if(e>=dt)return Ot(t,e,dt,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=gt)return Math.round(t/gt)+"d";if(e>=mt)return Math.round(t/mt)+"h";if(e>=yt)return Math.round(t/yt)+"m";if(e>=dt)return Math.round(t/dt)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ot(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}var jt=function(t){function e(t){for(var e=0,r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return n.colors[Math.abs(e)%n.colors.length]}function n(t){var i;function s(){if(s.enabled){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=s,a=Number(new Date),u=a-(i||a);o.diff=u,o.prev=i,o.curr=a,i=a,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(t,r){if("%%"===t)return t;c++;var i=n.formatters[r];if("function"==typeof i){var s=e[c];t=i.call(o,s),e.splice(c,1),c--}return t}),n.formatArgs.call(o,e),(o.log||n.log).apply(o,e)}}return s.namespace=t,s.enabled=n.enabled(t),s.useColors=n.useColors(),s.color=e(t),s.destroy=r,s.extend=o,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function r(){var t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}function o(t,e){return n(this.namespace+(void 0===e?":":e)+t)}return n.debug=n,n.default=n,n.coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){n.enable("")},n.enable=function(t){var e;n.save(t),n.names=[],n.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(e=0;e<o;e++)r[e]&&("-"===(t=r[e].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){var i=n.instances[e];i.enabled=n.enabled(i.namespace)}},n.enabled=function(t){if("*"===t[t.length-1])return!0;var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=wt,Object.keys(t).forEach(function(e){n[e]=t[e]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=e,n.enable(n.load()),n},_t=$(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++r)}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=jt(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}),At=(_t.log,_t.formatArgs,_t.save,_t.load,_t.useColors,_t.storage,_t.colors,function(t){return t instanceof Buffer}),xt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Et=Object.prototype.toString,Ct=function(t){return!(xt&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===Et.call(t)},kt=function(t){return!!Ct(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==Et.call(t)&&"[object Function]"===Et.call(t.callee)},St=function(){return Ct(arguments)}();Ct.isLegacyArguments=kt;var Rt=St?Ct:kt,Ft=Object.prototype.toString,$t=Function.prototype.toString,Mt=/^\s*(?:function)?\*/,Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,It=Object.getPrototypeOf,Bt=function(){if(!Pt)return!1;try{return Function("return function*() {}")()}catch(t){}}(),Tt=Bt?It(Bt):{},zt=function(t){return"function"==typeof t&&(!!Mt.test($t.call(t))||(Pt?It(t)===Tt:"[object GeneratorFunction]"===Ft.call(t)))},Ut=$(function(t,e){function n(t){return t.call.bind(t)}var r="undefined"!=typeof BigInt,o="undefined"!=typeof Symbol,i=o&&void 0!==Symbol.toStringTag,s="undefined"!=typeof Uint8Array,a="undefined"!=typeof ArrayBuffer;if(s&&i)var u=Object.getPrototypeOf(Uint8Array.prototype),c=n(Object.getOwnPropertyDescriptor(u,Symbol.toStringTag).get);var f=n(Object.prototype.toString),l=n(Number.prototype.valueOf),h=n(String.prototype.valueOf),p=n(Boolean.prototype.valueOf);if(r)var d=n(BigInt.prototype.valueOf);if(o)var y=n(Symbol.prototype.valueOf);function m(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function g(t){return s&&i?void 0!==c(t):v(t)||b(t)||w(t)||O(t)||j(t)||_(t)||A(t)||x(t)||E(t)||C(t)||k(t)}function v(t){return s&&i?"Uint8Array"===c(t):"[object Uint8Array]"===f(t)||At(t)&&void 0!==t.buffer}function b(t){return s&&i?"Uint8ClampedArray"===c(t):"[object Uint8ClampedArray]"===f(t)}function w(t){return s&&i?"Uint16Array"===c(t):"[object Uint16Array]"===f(t)}function O(t){return s&&i?"Uint32Array"===c(t):"[object Uint32Array]"===f(t)}function j(t){return s&&i?"Int8Array"===c(t):"[object Int8Array]"===f(t)}function _(t){return s&&i?"Int16Array"===c(t):"[object Int16Array]"===f(t)}function A(t){return s&&i?"Int32Array"===c(t):"[object Int32Array]"===f(t)}function x(t){return s&&i?"Float32Array"===c(t):"[object Float32Array]"===f(t)}function E(t){return s&&i?"Float64Array"===c(t):"[object Float64Array]"===f(t)}function C(t){return s&&i?"BigInt64Array"===c(t):"[object BigInt64Array]"===f(t)}function k(t){return s&&i?"BigUint64Array"===c(t):"[object BigUint64Array]"===f(t)}function S(t){return"[object Map]"===f(t)}function R(t){return"[object Set]"===f(t)}function F(t){return"[object WeakMap]"===f(t)}function $(t){return"[object WeakSet]"===f(t)}function M(t){return"[object ArrayBuffer]"===f(t)}function P(t){return"undefined"!=typeof ArrayBuffer&&(M.working?M(t):t instanceof ArrayBuffer)}function I(t){return"[object DataView]"===f(t)}function B(t){return"undefined"!=typeof DataView&&(I.working?I(t):t instanceof DataView)}function T(t){return"[object SharedArrayBuffer]"===f(t)}function z(t){return"undefined"!=typeof SharedArrayBuffer&&(T.working?T(t):t instanceof SharedArrayBuffer)}function U(t){return m(t,l)}function N(t){return m(t,h)}function q(t){return m(t,p)}function K(t){return r&&m(t,d)}function D(t){return o&&m(t,y)}e.isArgumentsObject=Rt,e.isGeneratorFunction=zt,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return a&&ArrayBuffer.isView?ArrayBuffer.isView(t):g(t)||B(t)},e.isTypedArray=g,e.isUint8Array=v,e.isUint8ClampedArray=b,e.isUint16Array=w,e.isUint32Array=O,e.isInt8Array=j,e.isInt16Array=_,e.isInt32Array=A,e.isFloat32Array=x,e.isFloat64Array=E,e.isBigInt64Array=C,e.isBigUint64Array=k,S.working="undefined"!=typeof Map&&S(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(S.working?S(t):t instanceof Map)},R.working="undefined"!=typeof Set&&R(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(R.working?R(t):t instanceof Set)},F.working="undefined"!=typeof WeakMap&&F(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(F.working?F(t):t instanceof WeakMap)},$.working="undefined"!=typeof WeakSet&&$(new WeakSet),e.isWeakSet=function(t){return $(t)},M.working="undefined"!=typeof ArrayBuffer&&M(new ArrayBuffer),e.isArrayBuffer=P,I.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&I(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=B,T.working="undefined"!=typeof SharedArrayBuffer&&T(new SharedArrayBuffer),e.isSharedArrayBuffer=z,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===f(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===f(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===f(t)},e.isGeneratorObject=function(t){return"[object Generator]"===f(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===f(t)},e.isNumberObject=U,e.isStringObject=N,e.isBooleanObject=q,e.isBigIntObject=K,e.isSymbolObject=D,e.isBoxedPrimitive=function(t){return U(t)||N(t)||q(t)||K(t)||D(t)},e.isAnyArrayBuffer=function(t){return s&&(P(t)||z(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})}),Nt=(Ut.isArgumentsObject,Ut.isGeneratorFunction,Ut.isPromise,Ut.isArrayBufferView,Ut.isTypedArray,Ut.isUint8Array,Ut.isUint8ClampedArray,Ut.isUint16Array,Ut.isUint32Array,Ut.isInt8Array,Ut.isInt16Array,Ut.isInt32Array,Ut.isFloat32Array,Ut.isFloat64Array,Ut.isBigInt64Array,Ut.isBigUint64Array,Ut.isMap,Ut.isSet,Ut.isWeakMap,Ut.isWeakSet,Ut.isArrayBuffer,Ut.isDataView,Ut.isSharedArrayBuffer,Ut.isAsyncFunction,Ut.isMapIterator,Ut.isSetIterator,Ut.isGeneratorObject,Ut.isWebAssemblyCompiledModule,Ut.isNumberObject,Ut.isStringObject,Ut.isBooleanObject,Ut.isBigIntObject,Ut.isSymbolObject,Ut.isBoxedPrimitive,Ut.isAnyArrayBuffer,$(function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}})),qt=$(function(t){try{var e=Kt;if("function"!=typeof e.inherits)throw"";t.exports=e.inherits}catch(e){t.exports=Nt}}),Kt=$(function(t,e){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},r=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,i=o.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}}),u=o[n];n<i;u=o[++n])d(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(t,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var o,i={};function s(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,t,r.depth)}function a(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function u(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&j(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=c(t,o,r)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(t,n);if(i)return i;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(j(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var b,_="",A=!1,x=["{","}"];(h(n)&&(A=!0,x=["[","]"]),j(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),O(n)&&(_=" "+f(n)),0!==s.length||A&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),b=A?function(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)E(e,String(s))?i.push(l(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(t,e,n,r,o,!0))}),i}(t,n,r,a,s):s.map(function(e){return l(t,n,r,a,e,A)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(b,_,x)):x[0]+_+x[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),E(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=d(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),g(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function d(t){return null===t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function v(t){return b(t)&&"[object RegExp]"===_(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===_(t)}function O(t){return b(t)&&("[object Error]"===_(t)||t instanceof Error)}function j(t){return"function"==typeof t}function _(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(g(o)&&(o=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!i[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=process.pid;i[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else i[t]=function(){};return i[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=Ut,e.isArray=h,e.isBoolean=p,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=v,e.types.isRegExp=v,e.isObject=b,e.isDate=w,e.types.isDate=w,e.isError=O,e.types.isNativeError=O,e.isFunction=j,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=At;var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),x[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=qt,e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!=typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=C,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return r.apply(o,arguments)};t.apply(this,e).then(function(t){process.nextTick(i.bind(null,null,t))},function(t){process.nextTick(function(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}.bind(null,t,i))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}}),Dt=(Kt.format,Kt.deprecate,Kt.debuglog,Kt.inspect,Kt.types,Kt.isArray,Kt.isBoolean,Kt.isNull,Kt.isNullOrUndefined,Kt.isNumber,Kt.isString,Kt.isSymbol,Kt.isUndefined,Kt.isRegExp,Kt.isObject,Kt.isDate,Kt.isError,Kt.isFunction,Kt.isPrimitive,Kt.isBuffer,Kt.log,Kt.inherits,Kt._extend,Kt.promisify,Kt.callbackify,(t,e)=>{e=e||process.argv;const n=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return-1!==r&&(-1===o||r<o)});const Lt=process.env;let Ht;function Gt(e){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(e){if(!1===Ht)return 0;if(Dt("color=16m")||Dt("color=full")||Dt("color=truecolor"))return 3;if(Dt("color=256"))return 2;if(e&&!e.isTTY&&!0!==Ht)return 0;const n=Ht?1:0;if("win32"===process.platform){const e=t.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in Lt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in Lt)||"codeship"===Lt.CI_NAME?1:n;if("TEAMCITY_VERSION"in Lt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Lt.TEAMCITY_VERSION)?1:0;if("truecolor"===Lt.COLORTERM)return 3;if("TERM_PROGRAM"in Lt){const t=parseInt((Lt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Lt.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Lt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Lt.TERM)?1:"COLORTERM"in Lt?1:(Lt.TERM,n)}(e))}Dt("no-color")||Dt("no-colors")||Dt("color=false")?Ht=!1:(Dt("color")||Dt("colors")||Dt("color=true")||Dt("color=always"))&&(Ht=!0),"FORCE_COLOR"in Lt&&(Ht=0===Lt.FORCE_COLOR.length||0!==parseInt(Lt.FORCE_COLOR,10));var Wt={supportsColor:Gt,stdout:Gt(process.stdout),stderr:Gt(process.stderr)},Vt=$(function(t,n){n.init=function(t){t.inspectOpts={};for(var e=Object.keys(n.inspectOpts),r=0;r<e.length;r++)t.inspectOpts[e[r]]=n.inspectOpts[e[r]]},n.log=function(){return process.stderr.write(Kt.format.apply(Kt,arguments)+"\n")},n.formatArgs=function(e){var r=this.namespace;if(this.useColors){var o=this.color,i="[3"+(o<8?o:"8;5;"+o),s="  ".concat(i,";1m").concat(r," [0m");e[0]=s+e[0].split("\n").join("\n"+s),e.push(i+"m+"+t.exports.humanize(this.diff)+"[0m")}else e[0]=function(){if(n.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+e[0]},n.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},n.load=function(){return process.env.DEBUG},n.useColors=function(){return"colors"in n.inspectOpts?Boolean(n.inspectOpts.colors):e.isatty(process.stderr.fd)},n.colors=[6,2,3,4,5,1];try{Wt&&(Wt.stderr||Wt).level>=2&&(n.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}n.inspectOpts=Object.keys(process.env).filter(function(t){return/^debug_/i.test(t)}).reduce(function(t,e){var n=e.substring(6).toLowerCase().replace(/_([a-z])/g,function(t,e){return e.toUpperCase()}),r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{}),t.exports=jt(n);var r=t.exports.formatters;r.o=function(t){return this.inspectOpts.colors=this.useColors,Kt.inspect(t,this.inspectOpts).replace(/\s*\n\s*/g," ")},r.O=function(t){return this.inspectOpts.colors=this.useColors,Kt.inspect(t,this.inspectOpts)}}),Jt=(Vt.init,Vt.log,Vt.formatArgs,Vt.save,Vt.load,Vt.useColors,Vt.colors,Vt.inspectOpts,$(function(t){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=_t:t.exports=Vt})),Xt=it.URL,Qt=o.Writable,Zt=Jt("follow-redirects"),Yt={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},te=Object.create(null);function ee(t,e){Qt.call(this),t.headers=t.headers||{},this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t.host&&(t.hostname||(t.hostname=t.host),delete t.host),e&&this.on("response",e);var n=this;if(this._onNativeResponse=function(t){n._processResponse(t)},!t.pathname&&t.path){var r=t.path.indexOf("?");r<0?t.pathname=t.path:(t.pathname=t.path.substring(0,r),t.search=t.path.substring(r))}this._performRequest()}function ne(t,e){clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.emit("timeout")},e)}function re(){clearTimeout(this._timeout)}function oe(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach(function(r){var o=r+":",i=n[o]=t[r],s=e[r]=Object.create(i);s.request=function(t,r,i){if("string"==typeof t){var s=t;try{t=function(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};""!==t.port&&(e.port=Number(t.port));return e}(new Xt(s))}catch(e){t=it.parse(s)}}else i=r,r=t,t={protocol:o};return"function"==typeof r&&(i=r,r=null),(r=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t,r)).nativeProtocols=n,pt.equal(r.protocol,o,"protocol mismatch"),Zt("options",r),new ee(r,i)},s.get=function(t,e,n){var r=s.request(t,e,n);return r.end(),r}}),e}function ie(){}["abort","aborted","error","socket","timeout"].forEach(function(t){te[t]=function(e){this._redirectable.emit(t,e)}}),ee.prototype=Object.create(Qt.prototype),ee.prototype.write=function(t,e,n){if(this._ending)throw new Error("write after end");if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(n=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):n&&n()},ee.prototype.end=function(t,e,n){if("function"==typeof t?(n=t,t=e=null):"function"==typeof e&&(n=e,e=null),t){var r=this,o=this._currentRequest;this.write(t,e,function(){r._ended=!0,o.end(null,null,n)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},ee.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},ee.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},ee.prototype.setTimeout=function(t,e){if(e&&this.once("timeout",e),this.socket)ne(this,t);else{var n=this;this._currentRequest.once("socket",function(){ne(n,t)})}return this.once("response",re),this.once("error",re),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){ee.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}}),["aborted","connection","socket"].forEach(function(t){Object.defineProperty(ee.prototype,t,{get:function(){return this._currentRequest[t]}})}),ee.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var n=t.substr(0,t.length-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=e.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=it.format(this._options),r._redirectable=this,te)o&&r.on(o,te[o]);if(this._isRedirect){var i=0,s=this,a=this._requestBodyBuffers;!function t(e){if(r===s._currentRequest)if(e)s.emit("error",e);else if(i<a.length){var n=a[i++];r.finished||r.write(n.data,n.encoding,t)}else s._ended&&r.end()}()}}else this.emit("error",new Error("Unsupported protocol "+t))},ee.prototype._processResponse=function(t){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:t.statusCode});var e=t.headers.location;if(e&&!1!==this._options.followRedirects&&t.statusCode>=300&&t.statusCode<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",ie),this._currentRequest.abort(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var n,r=this._options.headers;if(307!==t.statusCode&&!(this._options.method in Yt))for(n in this._options.method="GET",this._requestBodyBuffers=[],r)/^content-/i.test(n)&&delete r[n];if(!this._isRedirect)for(n in r)/^host$/i.test(n)&&delete r[n];var o=it.resolve(this._currentUrl,e);Zt("redirecting to",o),Object.assign(this._options,it.parse(o)),this._isRedirect=!0,this._performRequest(),t.destroy()}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]};var se=oe({http:n,https:r}),ae=oe;se.wrap=ae;var ue,ce="Promise based HTTP client for the browser and node.js",fe={test:"grunt test && bundlesize",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js"},le={type:"git",url:"https://github.com/axios/axios.git"},he=["xhr","http","ajax","promise","node"],pe={url:"https://github.com/axios/axios/issues"},de="https://github.com/axios/axios",ye={bundlesize:"^0.5.7",coveralls:"^2.11.9","es6-promise":"^4.0.5",grunt:"^1.0.1","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-nodeunit":"^1.0.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^19.0.0","grunt-karma":"^2.0.0","grunt-ts":"^6.0.0-beta.3","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.0","karma-jasmine":"^1.0.2","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",sinon:"^1.17.4",webpack:"^1.13.1","webpack-dev-server":"^1.14.1","url-search-params":"^0.6.1",typescript:"^2.0.3"},me={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},ge={"follow-redirects":"^1.3.0","is-buffer":"^1.1.5"},ve=[{path:"./dist/axios.min.js",threshold:"5kB"}],be={name:"axios",version:"0.18.0",description:ce,main:"index.js",scripts:fe,repository:le,keywords:he,author:"Matt Zabriskie",license:"MIT",bugs:pe,homepage:de,devDependencies:ye,browser:me,typings:"./index.d.ts",dependencies:ge,bundlesize:ve},we=(ue=Object.freeze({name:"axios",version:"0.18.0",description:ce,main:"index.js",scripts:fe,repository:le,keywords:he,author:"Matt Zabriskie",license:"MIT",bugs:pe,homepage:de,devDependencies:ye,browser:me,typings:"./index.d.ts",dependencies:ge,bundlesize:ve,default:be}))&&ue.default||ue,Oe=se.http,je=se.https,_e={"Content-Type":"application/x-www-form-urlencoded"};function Ae(t,e){!g.isUndefined(t)&&g.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var xe,Ee={adapter:("undefined"!=typeof XMLHttpRequest?xe=R:"undefined"!=typeof process&&(xe=function(t){return new Promise(function(e,o){var s,a=t.data,u=t.headers;if(u["User-Agent"]||u["user-agent"]||(u["User-Agent"]="axios/"+we.version),a&&!g.isStream(a)){if(Buffer.isBuffer(a));else if(g.isArrayBuffer(a))a=new Buffer(new Uint8Array(a));else{if(!g.isString(a))return o(b("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));a=new Buffer(a,"utf-8")}u["Content-Length"]=a.length}var c=void 0;t.auth&&(c=(t.auth.username||"")+":"+(t.auth.password||""));var f=it.parse(t.url),l=f.protocol||"http:";if(!c&&f.auth){var h=f.auth.split(":");c=(h[0]||"")+":"+(h[1]||"")}c&&delete u.Authorization;var p="https:"===l,d=p?t.httpsAgent:t.httpAgent,y={path:j(f.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method,headers:u,agent:d,auth:c};t.socketPath?y.socketPath=t.socketPath:(y.hostname=f.hostname,y.port=f.port);var m,O=t.proxy;if(!O&&!1!==O){var _=l.slice(0,-1)+"_proxy",A=process.env[_]||process.env[_.toUpperCase()];if(A){var x=it.parse(A);if(O={host:x.hostname,port:x.port},x.auth){var E=x.auth.split(":");O.auth={username:E[0],password:E[1]}}}}if(O&&(y.hostname=O.host,y.host=O.host,y.headers.host=f.hostname+(f.port?":"+f.port:""),y.port=O.port,y.path=l+"//"+f.hostname+(f.port?":"+f.port:"")+y.path,O.auth)){var C=new Buffer(O.auth.username+":"+O.auth.password,"utf8").toString("base64");y.headers["Proxy-Authorization"]="Basic "+C}t.transport?m=t.transport:0===t.maxRedirects?m=p?r:n:(t.maxRedirects&&(y.maxRedirects=t.maxRedirects),m=p?je:Oe),t.maxContentLength&&t.maxContentLength>-1&&(y.maxBodyLength=t.maxContentLength);var k=m.request(y,function(n){if(!k.aborted){clearTimeout(s),s=null;var r=n;switch(n.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(i.createUnzip()),delete n.headers["content-encoding"]}var a=n.req||k,u={status:n.statusCode,statusText:n.statusMessage,headers:n.headers,config:t,request:a};if("stream"===t.responseType)u.data=r,w(e,o,u);else{var c=[];r.on("data",function(e){c.push(e),t.maxContentLength>-1&&Buffer.concat(c).length>t.maxContentLength&&o(b("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,a))}),r.on("error",function(e){k.aborted||o(v(e,t,null,a))}),r.on("end",function(){var n=Buffer.concat(c);"arraybuffer"!==t.responseType&&(n=n.toString("utf8")),u.data=n,w(e,o,u)})}}});k.on("error",function(e){k.aborted||o(v(e,t,null,k))}),t.timeout&&!s&&(s=setTimeout(function(){k.abort(),o(b("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",k))},t.timeout)),t.cancelToken&&t.cancelToken.promise.then(function(t){k.aborted||(k.abort(),o(t))}),g.isStream(a)?a.pipe(k):k.end(a)})}),xe),transformRequest:[function(t,e){return function(t,e){g.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}(e,"Content-Type"),g.isFormData(t)||g.isArrayBuffer(t)||g.isBuffer(t)||g.isStream(t)||g.isFile(t)||g.isBlob(t)?t:g.isArrayBufferView(t)?t.buffer:g.isURLSearchParams(t)?(Ae(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):g.isObject(t)?(Ae(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};Ee.headers={common:{Accept:"application/json, text/plain, */*"}},g.forEach(["delete","get","head"],function(t){Ee.headers[t]={}}),g.forEach(["post","put","patch"],function(t){Ee.headers[t]=g.merge(_e)});var Ce=Ee;function ke(){this.handlers=[]}ke.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},ke.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},ke.prototype.forEach=function(t){g.forEach(this.handlers,function(e){null!==e&&t(e)})};var Se=ke,Re=function(t,e,n){return g.forEach(n,function(n){t=n(t,e)}),t},Fe=function(t){return!(!t||!t.__CANCEL__)};function $e(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Me=function(t){var e,n,r;return $e(t),t.baseURL&&(r=t.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(t.url=(e=t.baseURL,(n=t.url)?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e)),t.headers=t.headers||{},t.data=Re(t.data,t.headers,t.transformRequest),t.headers=g.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),g.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||Ce.adapter)(t).then(function(e){return $e(t),e.data=Re(e.data,e.headers,t.transformResponse),e},function(e){return Fe(e)||($e(t),e&&e.response&&(e.response.data=Re(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})},Pe=$(function(t){var e=function(){function t(e,r,o,i){"object"==typeof r&&(o=r.depth,i=r.prototype,r.filter,r=r.circular);var s=[],a=[],u="undefined"!=typeof Buffer;return void 0===r&&(r=!0),void 0===o&&(o=1/0),function e(o,c){if(null===o)return null;if(0==c)return o;var f,l;if("object"!=typeof o)return o;if(t.__isArray(o))f=[];else if(t.__isRegExp(o))f=new RegExp(o.source,n(o)),o.lastIndex&&(f.lastIndex=o.lastIndex);else if(t.__isDate(o))f=new Date(o.getTime());else{if(u&&Buffer.isBuffer(o))return f=Buffer.allocUnsafe?Buffer.allocUnsafe(o.length):new Buffer(o.length),o.copy(f),f;void 0===i?(l=Object.getPrototypeOf(o),f=Object.create(l)):(f=Object.create(i),l=i)}if(r){var h=s.indexOf(o);if(-1!=h)return a[h];s.push(o),a.push(f)}for(var p in o){var d;l&&(d=Object.getOwnPropertyDescriptor(l,p)),d&&null==d.set||(f[p]=e(o[p],c-1))}return f}(e,o)}function e(t){return Object.prototype.toString.call(t)}function n(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=n,t}();t.exports&&(t.exports=e)}),Ie=function(t,e){return t=t||{},Object.keys(e).forEach(function(n){void 0===t[n]&&(t[n]=Pe(e[n]))}),t};function Be(t){this.defaults=t,this.interceptors={request:new Se,response:new Se}}Be.prototype.request=function(t){"string"==typeof t&&(t=g.merge({url:arguments[0]},arguments[1])),(t=g.merge(Ie,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[Me,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},g.forEach(["delete","get","head","options"],function(t){Be.prototype[t]=function(e,n){return this.request(g.merge(n||{},{method:t,url:e}))}}),g.forEach(["post","put","patch"],function(t){Be.prototype[t]=function(e,n,r){return this.request(g.merge(r||{},{method:t,url:e,data:n}))}});var Te=Be;function ze(t){this.message=t}ze.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ze.prototype.__CANCEL__=!0;var Ue=ze;function Ne(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new Ue(t),e(n.reason))})}Ne.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ne.source=function(){var t;return{token:new Ne(function(e){t=e}),cancel:t}};var qe=Ne;function Ke(t){var e=new Te(t),n=f(Te.prototype.request,e);return g.extend(n,Te.prototype,e),g.extend(n,e),n}var De=Ke(Ce);De.Axios=Te,De.create=function(t){return Ke(g.merge(Ce,t))},De.Cancel=Ue,De.CancelToken=qe,De.isCancel=Fe,De.all=function(t){return Promise.all(t)},De.spread=function(t){return function(e){return t.apply(null,e)}};var Le=De,He=De;Le.default=He;var Ge=Le,We=($(function(t,e){var n=200,r="__lodash_hash_undefined__",o=1,i=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",y="[object Map]",m="[object Number]",g="[object Null]",v="[object Object]",b="[object Proxy]",w="[object RegExp]",O="[object Set]",j="[object String]",_="[object Symbol]",A="[object Undefined]",x="[object ArrayBuffer]",E="[object DataView]",C=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[a]=S[u]=S[x]=S[f]=S[E]=S[l]=S[h]=S[p]=S[y]=S[m]=S[v]=S[w]=S[O]=S[j]=S["[object WeakMap]"]=!1;var R="object"==typeof F&&F&&F.Object===Object&&F,$="object"==typeof self&&self&&self.Object===Object&&self,M=R||$||Function("return this")(),P=e&&!e.nodeType&&e,I=P&&t&&!t.nodeType&&t,B=I&&I.exports===P,T=B&&R.process,z=function(){try{return T&&T.binding&&T.binding("util")}catch(t){}}(),U=z&&z.isTypedArray;function N(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var D,L,H,G=Array.prototype,W=Function.prototype,V=Object.prototype,J=M["__core-js_shared__"],X=W.toString,Q=V.hasOwnProperty,Z=(D=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",Y=V.toString,tt=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=B?M.Buffer:void 0,nt=M.Symbol,rt=M.Uint8Array,ot=V.propertyIsEnumerable,it=G.splice,st=nt?nt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ut=et?et.isBuffer:void 0,ct=(L=Object.keys,H=Object,function(t){return L(H(t))}),ft=zt(M,"DataView"),lt=zt(M,"Map"),ht=zt(M,"Promise"),pt=zt(M,"Set"),dt=zt(M,"WeakMap"),yt=zt(Object,"create"),mt=Kt(ft),gt=Kt(lt),vt=Kt(ht),bt=Kt(pt),wt=Kt(dt),Ot=nt?nt.prototype:void 0,jt=Ot?Ot.valueOf:void 0;function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new xt;++e<n;)this.add(t[e])}function Ct(t){var e=this.__data__=new At(t);this.size=e.size}function kt(t,e){var n=Ht(t),r=!n&&Lt(t),o=!n&&!r&&Gt(t),i=!n&&!r&&!o&&Qt(t),s=n||r||o||i,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!Q.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qt(c,u))||a.push(c);return a}function St(t,e){for(var n=t.length;n--;)if(Dt(t[n][0],e))return n;return-1}function Rt(t){return null==t?void 0===t?A:g:st&&st in Object(t)?function(t){var e=Q.call(t,st),n=t[st];try{t[st]=void 0}catch(t){}var r=Y.call(t);e?t[st]=n:delete t[st];return r}(t):function(t){return Y.call(t)}(t)}function Ft(t){return Xt(t)&&Rt(t)==a}function $t(t,e,n,r,s){return t===e||(null==t||null==e||!Xt(t)&&!Xt(e)?t!=t&&e!=e:function(t,e,n,r,s,c){var p=Ht(t),d=Ht(e),g=p?u:Nt(t),b=d?u:Nt(e),A=(g=g==a?v:g)==v,C=(b=b==a?v:b)==v,k=g==b;if(k&&Gt(t)){if(!Gt(e))return!1;p=!0,A=!1}if(k&&!A)return c||(c=new Ct),p||Qt(t)?It(t,e,n,r,s,c):function(t,e,n,r,s,a,u){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!a(new rt(t),new rt(e)));case f:case l:case m:return Dt(+t,+e);case h:return t.name==e.name&&t.message==e.message;case w:case j:return t==e+"";case y:var c=q;case O:var p=r&o;if(c||(c=K),t.size!=e.size&&!p)return!1;var d=u.get(t);if(d)return d==e;r|=i,u.set(t,e);var g=It(c(t),c(e),r,s,a,u);return u.delete(t),g;case _:if(jt)return jt.call(t)==jt.call(e)}return!1}(t,e,g,n,r,s,c);if(!(n&o)){var S=A&&Q.call(t,"__wrapped__"),R=C&&Q.call(e,"__wrapped__");if(S||R){var F=S?t.value():t,$=R?e.value():e;return c||(c=new Ct),s(F,$,n,r,c)}}if(!k)return!1;return c||(c=new Ct),function(t,e,n,r,i,s){var a=n&o,u=Bt(t),c=u.length,f=Bt(e).length;if(c!=f&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in e:Q.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var y=a;++l<c;){h=u[l];var m=t[h],g=e[h];if(r)var v=a?r(g,m,h,e,t,s):r(m,g,h,t,e,s);if(!(void 0===v?m===g||i(m,g,n,r,s):v)){d=!1;break}y||(y="constructor"==h)}if(d&&!y){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return s.delete(t),s.delete(e),d}(t,e,n,r,s,c)}(t,e,n,r,$t,s))}function Mt(t){return!(!Jt(t)||Z&&Z in t)&&(Wt(t)?tt:C).test(Kt(t))}function Pt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||V,e!==r)return ct(t);var e,n,r,o=[];for(var i in Object(t))Q.call(t,i)&&"constructor"!=i&&o.push(i);return o}function It(t,e,n,r,s,a){var u=n&o,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var h=-1,p=!0,d=n&i?new Et:void 0;for(a.set(t,e),a.set(e,t);++h<c;){var y=t[h],m=e[h];if(r)var g=u?r(m,y,h,e,t,a):r(y,m,h,t,e,a);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!N(e,function(t,e){if(o=e,!d.has(o)&&(y===t||s(y,t,n,r,a)))return d.push(e);var o})){p=!1;break}}else if(y!==m&&!s(y,m,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Bt(t){return function(t,e,n){var r=e(t);return Ht(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Zt,Ut)}function Tt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function zt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(n)?n:void 0}_t.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},_t.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_t.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===r?void 0:n}return Q.call(e,t)?e[t]:void 0},_t.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Q.call(e,t)},_t.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yt&&void 0===e?r:e,this},At.prototype.clear=function(){this.__data__=[],this.size=0},At.prototype.delete=function(t){var e=this.__data__,n=St(e,t);return!(n<0||(n==e.length-1?e.pop():it.call(e,n,1),--this.size,0))},At.prototype.get=function(t){var e=this.__data__,n=St(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return St(this.__data__,t)>-1},At.prototype.set=function(t,e){var n=this.__data__,r=St(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new _t,map:new(lt||At),string:new _t}},xt.prototype.delete=function(t){var e=Tt(this,t).delete(t);return this.size-=e?1:0,e},xt.prototype.get=function(t){return Tt(this,t).get(t)},xt.prototype.has=function(t){return Tt(this,t).has(t)},xt.prototype.set=function(t,e){var n=Tt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Et.prototype.add=Et.prototype.push=function(t){return this.__data__.set(t,r),this},Et.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new At,this.size=0},Ct.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var r=this.__data__;if(r instanceof At){var o=r.__data__;if(!lt||o.length<n-1)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new xt(o)}return r.set(t,e),this.size=r.size,this};var Ut=at?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}(at(t),function(e){return ot.call(t,e)}))}:function(){return[]},Nt=Rt;function qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function Kt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Dt(t,e){return t===e||t!=t&&e!=e}(ft&&Nt(new ft(new ArrayBuffer(1)))!=E||lt&&Nt(new lt)!=y||ht&&"[object Promise]"!=Nt(ht.resolve())||pt&&Nt(new pt)!=O||dt&&"[object WeakMap]"!=Nt(new dt))&&(Nt=function(t){var e=Rt(t),n=e==v?t.constructor:void 0,r=n?Kt(n):"";if(r)switch(r){case mt:return E;case gt:return y;case vt:return"[object Promise]";case bt:return O;case wt:return"[object WeakMap]"}return e});var Lt=Ft(function(){return arguments}())?Ft:function(t){return Xt(t)&&Q.call(t,"callee")&&!ot.call(t,"callee")},Ht=Array.isArray;var Gt=ut||function(){return!1};function Wt(t){if(!Jt(t))return!1;var e=Rt(t);return e==p||e==d||e==c||e==b}function Vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Jt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xt(t){return null!=t&&"object"==typeof t}var Qt=U?function(t){return function(e){return t(e)}}(U):function(t){return Xt(t)&&Vt(t.length)&&!!S[Rt(t)]};function Zt(t){return null!=(e=t)&&Vt(e.length)&&!Wt(e)?kt(t):Pt(t);var e}t.exports=function(t,e){return $t(t,e)}}),$(function(t,e){var n=200,r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",u="[object Function]",c="[object GeneratorFunction]",f="[object Map]",l="[object Number]",h="[object Object]",p="[object RegExp]",d="[object Set]",y="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",j="[object Int16Array]",_="[object Int32Array]",A="[object Uint8Array]",x="[object Uint8ClampedArray]",E="[object Uint16Array]",C="[object Uint32Array]",k=/\w*$/,S=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,$={};$[i]=$["[object Array]"]=$[g]=$[v]=$[s]=$[a]=$[b]=$[w]=$[O]=$[j]=$[_]=$[f]=$[l]=$[h]=$[p]=$[d]=$[y]=$[m]=$[A]=$[x]=$[E]=$[C]=!0,$["[object Error]"]=$[u]=$["[object WeakMap]"]=!1;var M="object"==typeof F&&F&&F.Object===Object&&F,P="object"==typeof self&&self&&self.Object===Object&&self,I=M||P||Function("return this")(),B=e&&!e.nodeType&&e,T=B&&t&&!t.nodeType&&t,z=T&&T.exports===B;function U(t,e){return t.set(e[0],e[1]),t}function N(t,e){return t.add(e),t}function q(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function K(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function D(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function L(t,e){return function(n){return t(e(n))}}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var G,W=Array.prototype,V=Function.prototype,J=Object.prototype,X=I["__core-js_shared__"],Q=(G=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=V.toString,Y=J.hasOwnProperty,tt=J.toString,et=RegExp("^"+Z.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=z?I.Buffer:void 0,rt=I.Symbol,ot=I.Uint8Array,it=L(Object.getPrototypeOf,Object),st=Object.create,at=J.propertyIsEnumerable,ut=W.splice,ct=Object.getOwnPropertySymbols,ft=nt?nt.isBuffer:void 0,lt=L(Object.keys,Object),ht=Tt(I,"DataView"),pt=Tt(I,"Map"),dt=Tt(I,"Promise"),yt=Tt(I,"Set"),mt=Tt(I,"WeakMap"),gt=Tt(Object,"create"),vt=Kt(ht),bt=Kt(pt),wt=Kt(dt),Ot=Kt(yt),jt=Kt(mt),_t=rt?rt.prototype:void 0,At=_t?_t.valueOf:void 0;function xt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){this.__data__=new Et(t)}function St(t,e){var n=Lt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&Y.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var s in t)!e&&!Y.call(t,s)||o&&("length"==s||Nt(s,r))||n.push(s);return n}function Rt(t,e,n){var r=t[e];Y.call(t,e)&&Dt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ft(t,e){for(var n=t.length;n--;)if(Dt(t[n][0],e))return n;return-1}function $t(t,e,n,r,o,S,R){var F;if(r&&(F=S?r(t,o,S,R):r(t)),void 0!==F)return F;if(!Vt(t))return t;var M=Lt(t);if(M){if(F=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Y.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,F)}else{var P=Ut(t),I=P==u||P==c;if(Gt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(P==h||P==i||I&&!S){if(K(t))return S?t:{};if(F=function(t){return"function"!=typeof t.constructor||qt(t)?{}:(e=it(t),Vt(e)?st(e):{});var e}(I?{}:t),!e)return function(t,e){return It(t,zt(t),e)}(t,function(t,e){return t&&It(e,Jt(e),t)}(F,t))}else{if(!$[P])return S?t:{};F=function(t,e,n,r){var o=t.constructor;switch(e){case g:return Pt(t);case s:case a:return new o(+t);case v:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case b:case w:case O:case j:case _:case A:case x:case E:case C:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return q(e?n(D(t),!0):D(t),U,new t.constructor)}(t,r,n);case l:case y:return new o(t);case p:return(c=new(u=t).constructor(u.source,k.exec(u))).lastIndex=u.lastIndex,c;case d:return function(t,e,n){return q(e?n(H(t),!0):H(t),N,new t.constructor)}(t,r,n);case m:return i=t,At?Object(At.call(i)):{}}var i;var u,c}(t,P,$t,e)}}R||(R=new kt);var B=R.get(t);if(B)return B;if(R.set(t,F),!M)var T=n?function(t){return function(t,e,n){var r=e(t);return Lt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Jt,zt)}(t):Jt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(T||t,function(o,i){T&&(o=t[i=o]),Rt(F,i,$t(o,e,n,r,i,t,R))}),F}function Mt(t){return!(!Vt(t)||Q&&Q in t)&&(Wt(t)||K(t)?et:S).test(Kt(t))}function Pt(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function It(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var s=e[o],a=r?r(n[s],t[s],s,n,t):void 0;Rt(n,s,void 0===a?t[s]:a)}return n}function Bt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Tt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(n)?n:void 0}xt.prototype.clear=function(){this.__data__=gt?gt(null):{}},xt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},xt.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===r?void 0:n}return Y.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:Y.call(e,t)},xt.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?r:e,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(t){var e=this.__data__,n=Ft(e,t);return!(n<0||(n==e.length-1?e.pop():ut.call(e,n,1),0))},Et.prototype.get=function(t){var e=this.__data__,n=Ft(e,t);return n<0?void 0:e[n][1]},Et.prototype.has=function(t){return Ft(this.__data__,t)>-1},Et.prototype.set=function(t,e){var n=this.__data__,r=Ft(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new xt,map:new(pt||Et),string:new xt}},Ct.prototype.delete=function(t){return Bt(this,t).delete(t)},Ct.prototype.get=function(t){return Bt(this,t).get(t)},Ct.prototype.has=function(t){return Bt(this,t).has(t)},Ct.prototype.set=function(t,e){return Bt(this,t).set(t,e),this},kt.prototype.clear=function(){this.__data__=new Et},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Et){var o=r.__data__;if(!pt||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new Ct(o)}return r.set(t,e),this};var zt=ct?L(ct,Object):function(){return[]},Ut=function(t){return tt.call(t)};function Nt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Kt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Dt(t,e){return t===e||t!=t&&e!=e}(ht&&Ut(new ht(new ArrayBuffer(1)))!=v||pt&&Ut(new pt)!=f||dt&&"[object Promise]"!=Ut(dt.resolve())||yt&&Ut(new yt)!=d||mt&&"[object WeakMap]"!=Ut(new mt))&&(Ut=function(t){var e=tt.call(t),n=e==h?t.constructor:void 0,r=n?Kt(n):void 0;if(r)switch(r){case vt:return v;case bt:return f;case wt:return"[object Promise]";case Ot:return d;case jt:return"[object WeakMap]"}return e});var Lt=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Wt(t)}var Gt=ft||function(){return!1};function Wt(t){var e=Vt(t)?tt.call(t):"";return e==u||e==c}function Vt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Jt(t){return Ht(t)?St(t):function(t){if(!qt(t))return lt(t);var e=[];for(var n in Object(t))Y.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return $t(t,!1,!0)}}),$(function(t,e){var n;n=function(){var t=[],e=[],n={},r={},o={};function i(t){return"string"==typeof t?new RegExp("^"+t+"$","i"):t}function s(t,e){return t===e?e:t===t.toUpperCase()?e.toUpperCase():t[0]===t[0].toUpperCase()?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e.toLowerCase()}function a(t,e){return t.replace(e[0],function(n,r){var o,i,a=(o=e[1],i=arguments,o.replace(/\$(\d{1,2})/g,function(t,e){return i[e]||""}));return s(""===n?t[r-1]:n,a)})}function u(t,e,r){if(!t.length||n.hasOwnProperty(t))return e;for(var o=r.length;o--;){var i=r[o];if(i[0].test(e))return a(e,i)}return e}function c(t,e,n){return function(r){var o=r.toLowerCase();return e.hasOwnProperty(o)?s(r,o):t.hasOwnProperty(o)?s(r,t[o]):u(o,r,n)}}function f(t,e,n,r){return function(r){var o=r.toLowerCase();return!!e.hasOwnProperty(o)||!t.hasOwnProperty(o)&&u(o,o,n)===o}}function l(t,e,n){var r=1===e?l.singular(t):l.plural(t);return(n?e+" ":"")+r}return l.plural=c(o,r,t),l.isPlural=f(o,r,t),l.singular=c(r,o,e),l.isSingular=f(r,o,e),l.addPluralRule=function(e,n){t.push([i(e),n])},l.addSingularRule=function(t,n){e.push([i(t),n])},l.addUncountableRule=function(t){"string"!=typeof t?(l.addPluralRule(t,"$0"),l.addSingularRule(t,"$0")):n[t.toLowerCase()]=!0},l.addIrregularRule=function(t,e){e=e.toLowerCase(),t=t.toLowerCase(),o[t]=e,r[e]=t},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(t){return l.addIrregularRule(t[0],t[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(t){return l.addPluralRule(t[0],t[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(t){return l.addSingularRule(t[0],t[1])}),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(l.addUncountableRule),l},t.exports=n()})),Ve=We.plural,Je=We.singular;function Xe(t){return t.charAt(0).toLowerCase()+t.slice(1)}function Qe(t){return null!==t&&"object"==typeof t}var Ze=function(){function t(t){var e=this;this.fields=new Map,this.baseModel=t,this.pluralName=Ve(this.baseModel.entity),this.singularName=Je(this.baseModel.entity);var n=this.baseModel.fields();Object.keys(n).forEach(function(t){e.fields.set(t,n[t])})}return t.isFieldAttribute=function(t){var e=tn.getInstance();return t instanceof e.components.Increment||t instanceof e.components.Attr||t instanceof e.components.String||t instanceof e.components.Number||t instanceof e.components.Boolean},t.isConnection=function(t){var e=tn.getInstance();return!(t instanceof e.components.BelongsTo||t instanceof e.components.HasOne||t instanceof e.components.MorphTo||t instanceof e.components.MorphOne)},t.augment=function(t){var e=t.baseModel.fields.bind(t.baseModel);t.baseModel.fields=function(){var n=e();return n.$isPersisted=t.baseModel.boolean(!1),n}},t.prototype.getRelations=function(){var e=new Map;return this.fields.forEach(function(n,r){t.isFieldAttribute(n)||e.set(r,n)}),e},t.prototype.isTypeFieldOfPolymorphicRelation=function(t){var e=this,n=tn.getInstance(),r=!1;return n.models.forEach(function(o){return!r&&(o.getRelations().forEach(function(o){return!(o instanceof n.components.MorphMany||o instanceof n.components.MorphedByMany||o instanceof n.components.MorphOne||o instanceof n.components.MorphTo||o instanceof n.components.MorphToMany)||o.type!==t||!o.related||o.related.entity!==e.baseModel.entity||(r=!0,!1)}),!0)}),r},t.prototype.getRecordWithId=function(t){return this.baseModel.query().withAllRecursive().where("id",t).first()},t.prototype.shouldEagerLoadRelation=function(t,e,n){var r=tn.getInstance();return e instanceof r.components.HasOne||e instanceof r.components.BelongsTo||e instanceof r.components.MorphOne||void 0!==(this.baseModel.eagerLoad||[]).find(function(e){return e===n.singularName||e===n.pluralName||e===t})},t}(),Ye=function(){function t(t){this.PREFIX=["%c Vuex-ORM-ReST: ReST Plugin %c","background: #35495e; padding: 1px 0; border-radius: 3px; color: #eee;","background: transparent;"],this.enabled=t,this.log("Logging is enabled.")}return t.prototype.group=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(console.groupCollapsed?console.groupCollapsed.apply(console,this.PREFIX.concat(t)):console.log.apply(console,this.PREFIX.concat(t)))},t.prototype.groupEnd=function(){this.enabled&&console.groupEnd&&console.groupEnd()},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&console.log.apply(console,this.PREFIX.concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&console.warn.apply(console,this.PREFIX.concat(t))},t}(),tn=function(){function t(t,e){if(this.models=new Map,this.debugMode=!1,this.components=t,this.options=e,this.database=e.database,this.debugMode=Boolean(e.debug),this.logger=new Ye(this.debugMode),!e.database)throw new Error("database param is required to initialize vuex-orm-rest!")}return t.getInstance=function(){return this.instance},t.setup=function(e,n){this.instance=new t(e,n);var r=n.baseURL,o=n.headers;return this.instance.axios=Ge.create({baseURL:r,headers:o}),this.instance.collectModels(),this.instance.logger.group("Context setup"),this.instance.logger.log("components",this.instance.components),this.instance.logger.log("options",this.instance.options),this.instance.logger.log("database",this.instance.database),this.instance.logger.log("models",this.instance.models),this.instance.logger.groupEnd(),this.instance},t.prototype.getModel=function(t,e){if(void 0===e&&(e=!1),"string"==typeof t){var n=Je(Xe(t));if(t=this.models.get(n),!e&&!t)throw new Error("No such model "+n+"!")}return t},t.prototype.collectModels=function(){var t=this;this.database.entities.forEach(function(e){var n=new Ze(e.model);t.models.set(n.singularName,n),Ze.augment(n)})},t}(),en=function(){function t(){}return t.$request=function(t,e,n){return void 0===n&&(n={}),this.context.axios({method:t,url:e,data:n})},t.getModelFromState=function(t){return this.context.getModel(t.$name)},t.context=tn.getInstance(),t}();function nn(t,e){return t(e={exports:{}},e.exports),e.exports}var rn=nn(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),on=nn(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),sn=(on.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),an=function(t){if(!sn(t))throw TypeError(t+" is not an object!");return t},un=function(t){try{return!!t()}catch(t){return!0}},cn=!un(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),fn=rn.document,ln=sn(fn)&&sn(fn.createElement),hn=!cn&&!un(function(){return 7!=Object.defineProperty((t="div",ln?fn.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),pn=Object.defineProperty,dn={f:cn?Object.defineProperty:function(t,e,n){if(an(t),e=function(t,e){if(!sn(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!sn(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!sn(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!sn(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),an(n),hn)try{return pn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},yn=cn?function(t,e,n){return dn.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},mn={}.hasOwnProperty,gn=function(t,e){return mn.call(t,e)},vn=0,bn=Math.random(),wn=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++vn+bn).toString(36))},On=nn(function(t){var e=rn["__core-js_shared__"]||(rn["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:on.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),jn=On("native-function-to-string",Function.toString),_n=nn(function(t){var e=wn("src"),n=(""+jn).split("toString");on.inspectSource=function(t){return jn.call(t)},(t.exports=function(t,r,o,i){var s="function"==typeof o;s&&(gn(o,"name")||yn(o,"name",r)),t[r]!==o&&(s&&(gn(o,e)||yn(o,e,t[r]?""+t[r]:n.join(String(r)))),t===rn?t[r]=o:i?t[r]?t[r]=o:yn(t,r,o):(delete t[r],yn(t,r,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||jn.call(this)})}),An=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},xn=function(t,e,n){var r,o,i,s,a=t&xn.F,u=t&xn.G,c=t&xn.S,f=t&xn.P,l=t&xn.B,h=u?rn:c?rn[e]||(rn[e]={}):(rn[e]||{}).prototype,p=u?on:on[e]||(on[e]={}),d=p.prototype||(p.prototype={});for(r in u&&(n=e),n)i=((o=!a&&h&&void 0!==h[r])?h:n)[r],s=l&&o?An(i,rn):f&&"function"==typeof i?An(Function.call,i):i,h&&_n(h,r,i,t&xn.U),p[r]!=i&&yn(p,r,s),f&&d[r]!=i&&(d[r]=i)};rn.core=on,xn.F=1,xn.G=2,xn.S=4,xn.P=8,xn.B=16,xn.W=32,xn.U=64,xn.R=128;var En=xn,Cn={}.toString,kn=function(t){return Cn.call(t).slice(8,-1)},Sn=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==kn(t)?t.split(""):Object(t)},Rn=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Fn=function(t){return Sn(Rn(t))},$n=Math.ceil,Mn=Math.floor,Pn=function(t){return isNaN(t=+t)?0:(t>0?Mn:$n)(t)},In=Math.min,Bn=function(t){return t>0?In(Pn(t),9007199254740991):0},Tn=Math.max,zn=Math.min,Un=function(t){return function(e,n,r){var o,i=Fn(e),s=Bn(i.length),a=function(t,e){return(t=Pn(t))<0?Tn(t+e,0):zn(t,e)}(r,s);if(t&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},Nn=nn(function(t){var e=On("wks"),n=rn.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:wn)("Symbol."+t))}).store=e}),qn=Nn("unscopables"),Kn=Array.prototype;void 0==Kn[qn]&&yn(Kn,qn,{});var Dn,Ln=Un(!0);En(En.P,"Array",{includes:function(t){return Ln(this,t,arguments.length>1?arguments[1]:void 0)}}),Dn="includes",Kn[qn][Dn]=!0;on.Array.includes;var Hn=On("keys"),Gn=Un(!1),Wn=function(t){return Hn[t]||(Hn[t]=wn(t))}("IE_PROTO"),Vn="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Jn=Object.keys||function(t){return function(t,e){var n,r=Fn(t),o=0,i=[];for(n in r)n!=Wn&&gn(r,n)&&i.push(n);for(;e.length>o;)gn(r,n=e[o++])&&(~Gn(i,n)||i.push(n));return i}(t,Vn)},Xn={f:Object.getOwnPropertySymbols},Qn={f:{}.propertyIsEnumerable},Zn=Object.assign,Yn=!Zn||un(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Zn({},t)[n]||Object.keys(Zn({},e)).join("")!=r})?function(t,e){for(var n=Object(Rn(t)),r=arguments.length,o=1,i=Xn.f,s=Qn.f;r>o;)for(var a,u=Sn(arguments[o++]),c=i?Jn(u).concat(i(u)):Jn(u),f=c.length,l=0;f>l;)s.call(u,a=c[l++])&&(n[a]=u[a]);return n}:Zn;En(En.S+En.F,"Object",{assign:Yn});on.Object.assign;var tr=Qn.f,er=function(t){return function(e){for(var n,r=Fn(e),o=Jn(r),i=o.length,s=0,a=[];i>s;)tr.call(r,n=o[s++])&&a.push(t?[n,r[n]]:r[n]);return a}},nr=er(!0);En(En.S,"Object",{entries:function(t){return nr(t)}});on.Object.entries;var rr=er(!1);En(En.S,"Object",{values:function(t){return rr(t)}});on.Object.values;var or=Nn("match"),ir=function(t,e,n){if(sn(r=e)&&(void 0!==(o=r[or])?o:"RegExp"==kn(r)))throw TypeError("String#"+n+" doesn't accept regex!");var r,o;return String(Rn(t))},sr=Nn("match"),ar="".startsWith;En(En.P+En.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[sr]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=ir(this,t,"startsWith"),n=Bn(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return ar?ar.call(e,r,n):e.slice(n,n+r.length)===r}});on.String.startsWith;var ur=function(){function t(){}return t.register=function(t){this.database=t},t}(),cr=function(t,e){return(cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function fr(t,e){function n(){this.constructor=t}cr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var lr=function(){return(lr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function hr(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})}function pr(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function dr(t,e){if(t!==e){if(t>e)return 1;if(t<e)return-1}return 0}var yr={isEmpty:function(t){return Array.isArray(t)?0===t.length:0===Object.keys(t).length},forOwn:function(t,e){Object.keys(t).forEach(function(n){return e(t[n],n,t)})},groupBy:function(t,e){return t.reduce(function(t,n){var r=e(n);return void 0===t[r]&&(t[r]=[]),t[r].push(n),t},{})},map:function(t,e){return Object.keys(t).map(function(n){return e(t[n],n,t)})},mapValues:function(t,e){var n=Object.assign({},t);return Object.keys(t).reduce(function(n,r){return n[r]=e(t[r],r,t),n},n)},orderBy:function(t,e,n){var r=-1;return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(t.map(function(t){return{criteria:e.map(function(e){return t[e]}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=t.criteria,o=e.criteria,i=r.length,s=n.length,a=-1;++a<i;){var u=dr(r[a],o[a]);if(u){if(a>=s)return u;var c=n[a];return u*("desc"===c?-1:1)}}return t.index-e.index}(t,e,n)})},pickBy:function(t,e){return Object.keys(t).reduce(function(n,r){var o=t[r];return e(o,r)&&(n[r]=o),n},{})}},mr=function(){return function(t){this.model=t}}(),gr=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.isNullable=!1,o.value=n,o.mutator=r,o}return fr(e,t),e.prototype.nullable=function(){return this.isNullable=!0,this},e.prototype.mutate=function(t,e){var n=this.mutator||this.model.mutators()[e];return n?n(t):t},e}(mr),vr=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.value=n,o}return fr(e,t),e.prototype.make=function(t,e,n){var r=t=void 0!==t?t:this.value;return"function"==typeof t&&(r=t()),this.mutate(r,n)},e}(gr),br=function(t){function e(e){return t.call(this,e,null)||this}return fr(e,t),e.prototype.make=function(t,e,n){return"number"==typeof t?t:null},e}(gr),wr=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return fr(e,t),e.prototype.make=function(t,e,n){return this.mutate(this.fix(t),n)},e.prototype.fix=function(t){return void 0===t?this.value:"string"==typeof t?t:null===t&&this.isNullable?t:t+""},e}(gr),Or=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return fr(e,t),e.prototype.make=function(t,e,n){return this.mutate(this.fix(t),n)},e.prototype.fix=function(t){return void 0===t?this.value:"number"==typeof t?t:"string"==typeof t?parseFloat(t):"boolean"==typeof t?t?1:0:null===t&&this.isNullable?t:0},e}(gr),jr=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return fr(e,t),e.prototype.make=function(t,e,n){return this.mutate(this.fix(t),n)},e.prototype.fix=function(t){if(void 0===t)return this.value;if("boolean"==typeof t)return t;if("string"==typeof t){if(0===t.length)return!1;var e=parseInt(t,0);return!!isNaN(e)||!!e}return"number"==typeof t?!!t:!(null!==t||!this.isNullable)&&t},e}(gr),_r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fr(e,t),e.prototype.getRelation=function(t,e,n){var r=t.newQuery(e);return n.forEach(function(t){t(r)}),r},e.prototype.getKeys=function(t,e){return t.map(function(t){return t[e]})},e.prototype.mapSingleRelations=function(t,e){return t.reduce(function(t,n){return t[n[e]]=n,t},{})},e.prototype.mapManyRelations=function(t,e){return t.reduce(function(t,n){var r=n[e];return t[r]||(t[r]=[]),t[r].push(n),t},{})},e.prototype.isOneRelation=function(t){return!Array.isArray(t)&&null!==t&&"object"==typeof t},e.prototype.isManyRelation=function(t){return!!Array.isArray(t)&&!(t.length<1)},e.prototype.makeManyRelation=function(t,e){var n=this;return this.isManyRelation(t)?t.filter(function(t){return n.isOneRelation(t)}).map(function(t){return new e(t)}):[]},e}(mr),Ar=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.related=i.model.relation(n),i.foreignKey=r,i.localKey=o,i}return fr(e,t),e.prototype.define=function(t){return t.one(this.related)},e.prototype.attach=function(t,e,n){var r=n[this.related.entity];r&&r[t]&&void 0===r[t][this.foreignKey]&&(e[this.localKey]||(e[this.localKey]=e.$id),r[t][this.foreignKey]=e[this.localKey])},e.prototype.make=function(t,e,n){return this.isOneRelation(t)?new this.related(t):null},e.prototype.load=function(t,e,n,r){var o=this.getRelation(t,this.related.entity,r);this.addEagerConstraints(o,e),this.match(e,o.get(),n)},e.prototype.addEagerConstraints=function(t,e){t.whereFk(this.foreignKey,this.getKeys(e,this.localKey))},e.prototype.match=function(t,e,n){var r=this,o=this.buildDictionary(e);t.forEach(function(t){var e=t[r.localKey],i=o[e];t[n]=i||null})},e.prototype.buildDictionary=function(t){var e=this;return t.reduce(function(t,n){return t[n[e.foreignKey]]=n,t},{})},e}(_r),xr=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.parent=i.model.relation(n),i.foreignKey=r,i.ownerKey=o,i}return fr(e,t),e.prototype.define=function(t){return t.one(this.parent)},e.prototype.attach=function(t,e,n){void 0===e[this.foreignKey]&&(e[this.foreignKey]=t)},e.prototype.make=function(t,e,n){return this.isOneRelation(t)?new this.parent(t):null},e.prototype.load=function(t,e,n,r){var o=this.getRelation(t,this.parent.entity,r);this.addEagerConstraints(o,e),this.match(e,o.get(),n)},e.prototype.addEagerConstraints=function(t,e){t.whereFk(this.ownerKey,this.getKeys(e,this.foreignKey))},e.prototype.match=function(t,e,n){var r=this,o=this.buildDictionary(e);t.forEach(function(t){var e=t[r.foreignKey],i=null!==e?o[e]:null;t[n]=i||null})},e.prototype.buildDictionary=function(t){var e=this;return t.reduce(function(t,n){return t[n[e.ownerKey]]=n,t},{})},e}(_r),Er=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.related=i.model.relation(n),i.foreignKey=r,i.localKey=o,i}return fr(e,t),e.prototype.define=function(t){return t.many(this.related)},e.prototype.attach=function(t,e,n){var r=this;Array.isArray(t)&&t.forEach(function(t){var o=n[r.related.entity];o&&o[t]&&void 0===o[t][r.foreignKey]&&(o[t][r.foreignKey]=e[r.localKey])})},e.prototype.make=function(t,e,n){return this.makeManyRelation(t,this.related)},e.prototype.load=function(t,e,n,r){var o=this.getRelation(t,this.related.entity,r);this.addEagerConstraints(o,e),this.match(e,o.get(),n)},e.prototype.addEagerConstraints=function(t,e){t.whereFk(this.foreignKey,this.getKeys(e,this.localKey))},e.prototype.match=function(t,e,n){var r=this,o=this.buildDictionary(e);t.forEach(function(t){var e=t[r.localKey],i=o[e];t[n]=i||[]})},e.prototype.buildDictionary=function(t){var e=this;return t.reduce(function(t,n){var r=n[e.foreignKey];return t[r]||(t[r]=[]),t[r].push(n),t},{})},e}(_r),Cr=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.parent=i.model.relation(n),i.foreignKey=r,i.ownerKey=o,i}return fr(e,t),e.prototype.define=function(t){return t.many(this.parent)},e.prototype.attach=function(t,e,n){0!==t.length&&void 0===e[this.foreignKey]&&(e[this.foreignKey]=t)},e.prototype.make=function(t,e,n){return this.makeManyRelation(t,this.parent)},e.prototype.load=function(t,e,n,r){var o=this,i=this.getRelation(t,this.parent.entity,r);this.addConstraintForHasManyBy(i,e);var s=this.mapSingleRelations(i.get(),this.ownerKey);e.forEach(function(t){var e=o.getRelatedRecords(s,t[o.foreignKey]);t[n]=e})},e.prototype.addConstraintForHasManyBy=function(t,e){var n=this,r=e.reduce(function(t,e){return t.concat(e[n.foreignKey])},[]);t.where(this.ownerKey,r)},e.prototype.getRelatedRecords=function(t,e){return e.reduce(function(e,n){var r=t[n];return r&&e.push(r),e},[])},e}(_r),kr=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e)||this;return u.related=u.model.relation(n),u.through=u.model.relation(r),u.firstKey=o,u.secondKey=i,u.localKey=s,u.secondLocalKey=a,u}return fr(e,t),e.prototype.define=function(t){return t.many(this.related)},e.prototype.attach=function(t,e,n){},e.prototype.make=function(t,e,n){return this.makeManyRelation(t,this.related)},e.prototype.load=function(t,e,n,r){var o=this,i=this.getRelation(t,this.related.entity,r),s=t.newQuery(this.through.entity);this.addEagerConstraintForThrough(s,e);var a=s.get();this.addEagerConstraintForRelated(i,a);var u=this.mapThroughRelations(a,i);e.forEach(function(t){var e=u[t[o.localKey]];t[n]=e||[]})},e.prototype.addEagerConstraintForThrough=function(t,e){t.where(this.firstKey,this.getKeys(e,this.localKey))},e.prototype.addEagerConstraintForRelated=function(t,e){t.where(this.secondKey,this.getKeys(e,this.secondLocalKey))},e.prototype.mapThroughRelations=function(t,e){var n=this,r=this.mapManyRelations(e.get(),this.secondKey);return t.reduce(function(t,e){var o=e[n.firstKey];t[o]||(t[o]=[]);var i=r[e[n.secondLocalKey]];return t[o]=t[o].concat(i),t},{})},e}(_r),Sr=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e)||this;return u.related=u.model.relation(n),u.pivot=u.model.relation(r),u.foreignPivotKey=o,u.relatedPivotKey=i,u.parentKey=s,u.relatedKey=a,u}return fr(e,t),e.prototype.define=function(t){return t.many(this.related)},e.prototype.attach=function(t,e,n){},e.prototype.make=function(t,e,n){return this.makeManyRelation(t,this.related)},e.prototype.load=function(t,e,n,r){var o=this,i=this.getRelation(t,this.related.entity,r),s=t.newQuery(this.pivot.entity);this.addEagerConstraintForPivot(s,e);var a=s.get();this.addEagerConstraintForRelated(i,a);var u=this.mapPivotRelations(a,i);e.forEach(function(t){var e=u[t[o.parentKey]];t[n]=e||[]})},e.prototype.addEagerConstraintForPivot=function(t,e){t.whereFk(this.foreignPivotKey,this.getKeys(e,this.parentKey))},e.prototype.addEagerConstraintForRelated=function(t,e){t.whereFk(this.relatedKey,this.getKeys(e,this.relatedPivotKey))},e.prototype.mapPivotRelations=function(t,e){var n=this,r=this.mapManyRelations(e.get(),this.relatedKey);return t.reduce(function(t,e){var o=e[n.foreignPivotKey];t[o]||(t[o]=[]);var i=r[e[n.relatedPivotKey]];return i&&(t[o]=t[o].concat(i)),t},{})},e.prototype.createPivots=function(t,e,n){var r=this;return this.pivot.primaryKey instanceof Array==!1?e:(yr.forOwn(e[t.entity],function(t){var o=t[n];void 0!==o&&0!==o.length&&r.createPivotRecord(e,t,o)}),e)},e.prototype.createPivotRecord=function(t,e,n){var r=this;n.forEach(function(n){var o,i,s=e[r.parentKey],a=t[r.related.entity][n][r.relatedKey],u=a+"_"+s,c=t[r.pivot.entity]?t[r.pivot.entity][u]:{};t[r.pivot.entity]=lr({},t[r.pivot.entity],((o={})[u]=lr({},c,((i={$id:u})[r.foreignPivotKey]=s,i[r.relatedPivotKey]=a,i)),o))})},e}(_r),Rr=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.id=n,o.type=r,o}return fr(e,t),e.prototype.define=function(t){var e=this;return t.union(function(t,n){return n[e.type]})},e.prototype.attach=function(t,e,n){},e.prototype.make=function(t,e,n){if(!this.isOneRelation(t))return null;var r=e[this.type],o=this.model.relation(r);return o?new o(t):null},e.prototype.load=function(t,e,n,r){var o=this,i=this.getTypes(e).reduce(function(e,n){var i=o.getRelation(t,n,r);return e[n]=o.mapSingleRelations(i.get(),"$id"),e},{});e.forEach(function(t){var e=t[o.id],r=t[o.type],s=i[r][e];t[n]=s||null})},e.prototype.getTypes=function(t){var e=this;return t.reduce(function(t,n){var r=n[e.type];return!t.includes(r)&&t.push(r),t},[])},e}(_r),Fr=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.related=s.model.relation(n),s.id=r,s.type=o,s.localKey=i,s}return fr(e,t),e.prototype.define=function(t){return t.one(this.related)},e.prototype.attach=function(t,e,n){var r=n[this.related.entity]&&n[this.related.entity][t];r&&(r[this.id]=r[this.id]||e.$id,r[this.type]=r[this.type]||this.model.entity)},e.prototype.make=function(t,e,n){return this.isOneRelation(t)?new this.related(t):null},e.prototype.load=function(t,e,n,r){var o=this,i=this.getRelation(t,this.related.entity,r);this.addEagerConstraintForMorphOne(i,e,t.entity);var s=this.mapSingleRelations(i.get(),this.id);e.forEach(function(t){var e=s[t[o.localKey]];t[n]=e||null})},e.prototype.addEagerConstraintForMorphOne=function(t,e,n){t.whereFk(this.type,n).whereFk(this.id,this.getKeys(e,this.localKey))},e}(_r),$r=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.related=s.model.relation(n),s.id=r,s.type=o,s.localKey=i,s}return fr(e,t),e.prototype.define=function(t){return t.many(this.related)},e.prototype.attach=function(t,e,n){var r=this;if(Array.isArray(t)){var o=n[this.related.entity];t.forEach(function(t){var n=o[t];n[r.id]=n[r.id]||e.$id,n[r.type]=n[r.type]||r.model.entity})}},e.prototype.make=function(t,e,n){return this.makeManyRelation(t,this.related)},e.prototype.load=function(t,e,n,r){var o=this,i=this.getRelation(t,this.related.entity,r);this.addEagerConstraintForMorphMany(i,e,t.entity);var s=this.mapManyRelations(i.get(),this.id);e.forEach(function(t){var e=s[t[o.localKey]];t[n]=e||[]})},e.prototype.addEagerConstraintForMorphMany=function(t,e,n){t.whereFk(this.type,n).whereFk(this.id,this.getKeys(e,this.localKey))},e}(_r),Mr=function(t){function e(e,n,r,o,i,s,a,u){var c=t.call(this,e)||this;return c.related=c.model.relation(n),c.pivot=c.model.relation(r),c.relatedId=o,c.id=i,c.type=s,c.parentKey=a,c.relatedKey=u,c}return fr(e,t),e.prototype.define=function(t){return t.many(this.related)},e.prototype.attach=function(t,e,n){},e.prototype.make=function(t,e,n){return this.makeManyRelation(t,this.related)},e.prototype.load=function(t,e,n,r){var o=this,i=this.getRelation(t,this.related.entity,r),s=t.newQuery(this.pivot.entity);this.addEagerConstraintForPivot(s,e,t.entity);var a=s.get();this.addEagerConstraintForRelated(i,a);var u=this.mapPivotRelations(a,i);e.forEach(function(t){var e=u[t[o.parentKey]];t[n]=e||[]})},e.prototype.addEagerConstraintForPivot=function(t,e,n){t.whereFk(this.type,n).whereFk(this.id,this.getKeys(e,this.parentKey))},e.prototype.addEagerConstraintForRelated=function(t,e){t.whereFk(this.relatedKey,this.getKeys(e,this.relatedId))},e.prototype.mapPivotRelations=function(t,e){var n=this,r=this.mapManyRelations(e.get(),this.relatedKey);return t.reduce(function(t,e){var o=e[n.id];t[o]||(t[o]=[]);var i=r[e[n.relatedId]];return t[o]=t[o].concat(i),t},{})},e.prototype.createPivots=function(t,e,n){var r=this;return yr.forOwn(e[t.entity],function(o){var i=t.query().newQuery(r.pivot.entity).where(r.id,o[r.parentKey]).where(r.type,t.entity).get().map(function(t){return t[r.parentKey]}),s=(o[n]||[]).filter(function(t){return!i.includes(t)});Array.isArray(s)&&0!==s.length&&r.createPivotRecord(t,e,o,s)}),e},e.prototype.createPivotRecord=function(t,e,n,r){var o=this;r.forEach(function(r){var i,s,a=n[o.parentKey],u=a+"_"+r+"_"+t.entity;e[o.pivot.entity]=lr({},e[o.pivot.entity],((i={})[u]=((s={$id:u})[o.relatedId]=r,s[o.id]=a,s[o.type]=t.entity,s),i))})},e}(_r),Pr=function(t){function e(e,n,r,o,i,s,a,u){var c=t.call(this,e)||this;return c.related=c.model.relation(n),c.pivot=c.model.relation(r),c.relatedId=o,c.id=i,c.type=s,c.parentKey=a,c.relatedKey=u,c}return fr(e,t),e.prototype.define=function(t){return t.many(this.related)},e.prototype.attach=function(t,e,n){},e.prototype.make=function(t,e,n){return this.makeManyRelation(t,this.related)},e.prototype.load=function(t,e,n,r){var o=this,i=this.getRelation(t,this.related.entity,r),s=t.newQuery(this.pivot.entity);this.addEagerConstraintForPivot(s,e,this.related.entity);var a=s.get();this.addEagerConstraintForRelated(i,a);var u=this.mapPivotRelations(a,i);e.forEach(function(t){var e=u[t[o.parentKey]];t[n]=e||[]})},e.prototype.addEagerConstraintForPivot=function(t,e,n){t.whereFk(this.type,n).whereFk(this.relatedId,this.getKeys(e,this.parentKey))},e.prototype.addEagerConstraintForRelated=function(t,e){t.whereFk(this.relatedKey,this.getKeys(e,this.id))},e.prototype.mapPivotRelations=function(t,e){var n=this,r=this.mapManyRelations(e.get(),this.relatedKey);return t.reduce(function(t,e){var o=e[n.relatedId];t[o]||(t[o]=[]);var i=r[e[n.id]];return t[o]=t[o].concat(i),t},{})},e.prototype.createPivots=function(t,e,n){var r=this;return yr.forOwn(e[t.entity],function(t){var o=t[n];Array.isArray(o)&&r.createPivotRecord(e,t,o)}),e},e.prototype.createPivotRecord=function(t,e,n){var r=this;n.forEach(function(n){var o,i,s=e[r.parentKey],a=n+"_"+s+"_"+r.related.entity;t[r.pivot.entity]=lr({},t[r.pivot.entity],((o={})[a]=((i={$id:a})[r.relatedId]=s,i[r.id]=n,i[r.type]=r.related.entity,i),o))})},e}(_r),Ir=function(){function t(){}return t.serialize=function(t){var e=this,n=t.$fields();return Object.keys(n).reduce(function(n,r){var o=t[r];return n[r]=e.serializeValue(o),n},{})},t.serializeValue=function(t){return t instanceof Tr?this.serializeItem(t):Array.isArray(t)?this.serializeCollection(t):t},t.serializeItem=function(t){return t.$toJson()},t.serializeCollection=function(t){return t.map(function(t){return t instanceof Tr?t.$toJson():t})},t}(),Br=function(){function t(){}return t.set=function(){this.value=""+this.prefix+this.count},t.get=function(){return this.value},t.increment=function(){return this.count++,this.set(),this.get()},t.count=0,t.prefix="_no_key_",t.value="",t}(),Tr=function(){function t(t){this.$id=null,this.$fill(t)}return t.fields=function(){return{}},t.getFields=function(){return this.cachedFields?this.cachedFields:(this.cachedFields=this.fields(),this.cachedFields)},t.attr=function(t,e){return new vr(this,t,e)},t.string=function(t,e){return new wr(this,t,e)},t.number=function(t,e){return new Or(this,t,e)},t.boolean=function(t,e){return new jr(this,t,e)},t.increment=function(){return new br(this)},t.hasOne=function(t,e,n){return new Ar(this,t,e,this.localKey(n))},t.belongsTo=function(t,e,n){return new xr(this,t,e,this.relation(t).localKey(n))},t.hasMany=function(t,e,n){return new Er(this,t,e,this.localKey(n))},t.hasManyBy=function(t,e,n){return new Cr(this,t,e,this.relation(t).localKey(n))},t.hasManyThrough=function(t,e,n,r,o,i){return new kr(this,t,e,n,r,this.localKey(o),this.relation(e).localKey(i))},t.belongsToMany=function(t,e,n,r,o,i){return new Sr(this,t,e,n,r,this.localKey(o),this.relation(t).localKey(i))},t.morphTo=function(t,e){return new Rr(this,t,e)},t.morphOne=function(t,e,n,r){return new Fr(this,t,e,n,this.localKey(r))},t.morphMany=function(t,e,n,r){return new $r(this,t,e,n,this.localKey(r))},t.morphToMany=function(t,e,n,r,o,i,s){return new Mr(this,t,e,n,r,o,this.localKey(i),this.relation(t).localKey(s))},t.morphedByMany=function(t,e,n,r,o,i,s){return new Pr(this,t,e,n,r,o,this.localKey(i),this.relation(t).localKey(s))},t.mutators=function(){return{}},t.database=function(){return ur.database},t.store=function(){return this.database().store},t.namespace=function(t){return this.database().namespace+"/"+this.entity+"/"+t},t.getters=function(t){return this.store().getters[this.namespace(t)]},t.dispatch=function(t,e){return this.store().dispatch(this.namespace(t),e)},t.commit=function(t){this.store().commit(this.database().namespace+"/$mutate",{entity:this.entity,callback:t})},t.all=function(){return this.getters("all")()},t.find=function(t){return this.getters("find")(t)},t.findIn=function(t){return this.getters("findIn")(t)},t.query=function(){return this.getters("query")()},t.new=function(){return this.dispatch("new")},t.create=function(t){return this.dispatch("create",t)},t.insert=function(t){return this.dispatch("insert",t)},t.update=function(t){return this.dispatch("update",t)},t.insertOrUpdate=function(t){return this.dispatch("insertOrUpdate",t)},t.delete=function(t){return this.dispatch("delete",t)},t.deleteAll=function(){return this.dispatch("deleteAll")},t.id=function(t){var e=this.primaryKey;return"string"==typeof e?t[e]:e.map(function(e){return t[e]||Br.increment()}).join("_")},t.localKey=function(t){return t||("string"==typeof this.primaryKey?this.primaryKey:"id")},t.relation=function(t){return"string"!=typeof t?t:this.database().model(t)},t.getAttributeClass=function(t){switch(t){case"increment":return br;default:throw Error('The attribute name "'+t+"\" doesn't exist.")}},t.getFieldsByAttribute=function(t){var e=this.getAttributeClass(t),n=this.fields();return Object.keys(n).reduce(function(t,r){var o=n[r];return o instanceof e&&(t[r]=o),t},{})},t.getIncrementFields=function(){return this.getFieldsByAttribute("increment")},t.hasIncrementFields=function(){return Object.keys(this.getIncrementFields()).length>0},t.pivotFields=function(){var t=[];return yr.forOwn(this.fields(),function(e,n){var r;(e instanceof Sr||e instanceof Mr||e instanceof Pr)&&t.push(((r={})[n]=e,r))}),t},t.hasPivotFields=function(){return this.pivotFields().length>0},t.hydrate=function(t){return new this(t).$toJson()},t.prototype.$self=function(){return this.constructor},t.prototype.$fields=function(){return this.$self().getFields()},t.prototype.$store=function(){return this.$self().store()},t.prototype.$namespace=function(t){return this.$self().namespace(t)},t.prototype.$getters=function(t){return this.$self().getters(t)},t.prototype.$dispatch=function(t,e){return hr(this,void 0,void 0,function(){return pr(this,function(n){return[2,this.$self().dispatch(t,e)]})})},t.prototype.$all=function(){return this.$getters("all")()},t.prototype.$find=function(t){return this.$getters("find")(t)},t.prototype.$findIn=function(t){return this.$getters("findIn")(t)},t.prototype.$query=function(){return this.$getters("query")()},t.prototype.$create=function(t){return hr(this,void 0,void 0,function(){return pr(this,function(e){return[2,this.$dispatch("create",t)]})})},t.prototype.$insert=function(t){return hr(this,void 0,void 0,function(){return pr(this,function(e){return[2,this.$dispatch("insert",t)]})})},t.prototype.$update=function(t){return hr(this,void 0,void 0,function(){return pr(this,function(e){return Array.isArray(t)?[2,this.$dispatch("update",t)]:void 0!==t.where?[2,this.$dispatch("update",t)]:void 0===this.$self().id(t)?[2,this.$dispatch("update",{where:this.$id,data:t})]:[2,this.$dispatch("update",t)]})})},t.prototype.$insertOrUpdate=function(t){return hr(this,void 0,void 0,function(){return pr(this,function(e){return[2,this.$dispatch("insertOrUpdate",t)]})})},t.prototype.$save=function(){return hr(this,void 0,void 0,function(){var t,e,n,r=this;return pr(this,function(o){switch(o.label){case 0:return t=this.$self().getFields(),e=Object.keys(t).reduce(function(e,n){return t[n]instanceof gr&&(e[n]=r[n]),e},{}),[4,this.$dispatch("insertOrUpdate",{data:e})];case 1:return n=o.sent(),this.$fill(n[this.$self().entity][0]),[2,this]}})})},t.prototype.$delete=function(t){return hr(this,void 0,void 0,function(){return pr(this,function(e){return t?[2,this.$dispatch("delete",t)]:null===this.$id?[2,null]:[2,this.$dispatch("delete",this.$id)]})})},t.prototype.$deleteAll=function(){return hr(this,void 0,void 0,function(){return pr(this,function(t){return[2,this.$dispatch("deleteAll")]})})},t.prototype.$fill=function(t){var e=this,n=t||{},r=this.$fields();Object.keys(r).forEach(function(t){var o=r[t],i=n[t];e[t]=o.make(i,n,t)}),void 0!==n.$id&&(this.$id=n.$id)},t.prototype.$toJson=function(){return Ir.serialize(this)},t.prototype.toJSON=function(){return this.$toJson()},t.primaryKey="id",t.state={},t}();function zr(t){return!(!t||"function"!=typeof t.hasOwnProperty||!(t.hasOwnProperty("__ownerID")||t._map&&t._map.hasOwnProperty("__ownerID")))}function Ur(t,e,n){return Object.keys(t).reduce(function(e,r){var o=""+r;return e.has(o)?e.set(o,n(e.get(o),t[o])):e},e)}var Nr,qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Dr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Lr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Gr=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Wr=function(t){return function(e){return zr(e)?e.get(t):e[t]}},Vr=(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Kr(this,t),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var o=r.idAttribute,i=void 0===o?"id":o,s=r.mergeStrategy,a=void 0===s?function(t,e){return Lr({},t,e)}:s,u=r.processStrategy,c=void 0===u?function(t){return Lr({},t)}:u;this._key=e,this._getId="function"==typeof i?i:Wr(i),this._idAttribute=i,this._mergeStrategy=a,this._processStrategy=c,this.define(n)}t.prototype.define=function(t){this.schema=Object.keys(t).reduce(function(e,n){var r,o=t[n];return Lr({},e,((r={})[n]=o,r))},this.schema||{})},t.prototype.getId=function(t,e,n){return this._getId(t,e,n)},t.prototype.merge=function(t,e){return this._mergeStrategy(t,e)},t.prototype.normalize=function(t,e,n,r,o){var i=this,s=this._processStrategy(t,e,n);return Object.keys(this.schema).forEach(function(t){if(s.hasOwnProperty(t)&&"object"===qr(s[t])){var e=i.schema[t];s[t]=r(s[t],s,t,e,o)}}),o(this,s,t,e,n),this.getId(t,e,n)},t.prototype.denormalize=function(t,e){var n=this;return zr(t)?Ur(this.schema,t,e):(Object.keys(this.schema).forEach(function(r){if(t.hasOwnProperty(r)){var o=n.schema[r];t[r]=e(t[r],o)}}),t)},Dr(t,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}])}(),function(){function t(e,n){Kr(this,t),n&&(this._schemaAttribute="string"==typeof n?function(t){return t[n]}:n),this.define(e)}return t.prototype.define=function(t){this.schema=t},t.prototype.getSchemaAttribute=function(t,e,n){return!this.isSingleSchema&&this._schemaAttribute(t,e,n)},t.prototype.inferSchema=function(t,e,n){if(this.isSingleSchema)return this.schema;var r=this.getSchemaAttribute(t,e,n);return this.schema[r]},t.prototype.normalizeValue=function(t,e,n,r,o){var i=this.inferSchema(t,e,n);if(!i)return t;var s=r(t,e,n,i,o);return this.isSingleSchema||void 0===s||null===s?s:{id:s,schema:this.getSchemaAttribute(t,e,n)}},t.prototype.denormalizeValue=function(t,e){var n=zr(t)?t.get("schema"):t.schema;if(!this.isSingleSchema&&!n)return t;var r=zr(t)?t.get("id"):t.id,o=this.isSingleSchema?this.schema:this.schema[n];return e(r||t,o)},Dr(t,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),t}()),Jr=(function(t){function e(n,r){if(Kr(this,e),!r)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return Gr(this,t.call(this,n,r))}Hr(e,t),e.prototype.normalize=function(t,e,n,r,o){return this.normalizeValue(t,e,n,r,o)},e.prototype.denormalize=function(t,e){return this.denormalizeValue(t,e)}}(Vr),function(t){function e(){return Kr(this,e),Gr(this,t.apply(this,arguments))}Hr(e,t),e.prototype.normalize=function(t,e,n,r,o){var i=this;return Object.keys(t).reduce(function(e,n,s){var a,u=t[n];return void 0!==u&&null!==u?Lr({},e,((a={})[n]=i.normalizeValue(u,t,n,r,o),a)):e},{})},e.prototype.denormalize=function(t,e){var n=this;return Object.keys(t).reduce(function(r,o){var i,s=t[o];return Lr({},r,((i={})[o]=n.denormalizeValue(s,e),i))},{})}}(Vr),function(t){return Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e]})}),Xr=function(t,e,n,r,o,i){return t=function(t){if(Array.isArray(t)&&t.length>1)throw new Error("Expected schema definition to be a single schema, but found "+t.length+".");return t[0]}(t),Jr(e).map(function(e,s){return o(e,n,r,t,i)})},Qr=(function(t){function e(){return Kr(this,e),Gr(this,t.apply(this,arguments))}Hr(e,t),e.prototype.normalize=function(t,e,n,r,o){var i=this;return Jr(t).map(function(t,s){return i.normalizeValue(t,e,n,r,o)}).filter(function(t){return void 0!==t&&null!==t})},e.prototype.denormalize=function(t,e){var n=this;return t&&t.map?t.map(function(t){return n.denormalizeValue(t,e)}):t}}(Vr),function(t,e,n,r,o,i){var s=Lr({},e);return Object.keys(t).forEach(function(n){var r=t[n],a=o(e[n],e,n,r,i);void 0===a||null===a?delete s[n]:s[n]=a}),s}),Zr=(function(){function t(e){Kr(this,t),this.define(e)}t.prototype.define=function(t){this.schema=Object.keys(t).reduce(function(e,n){var r,o=t[n];return Lr({},e,((r={})[n]=o,r))},this.schema||{})},t.prototype.normalize=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qr.apply(void 0,[this.schema].concat(e))},t.prototype.denormalize=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,e,n){if(zr(e))return Ur(t,e,n);var r=Lr({},e);return Object.keys(t).forEach(function(e){r[e]&&(r[e]=n(r[e],t[e]))}),r}.apply(void 0,[this.schema].concat(e))}}(),function(t,e){if(!t||"object"!==(void 0===t?"undefined":qr(t)))throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(void 0===t?"undefined":qr(t))+'".');var n={},r=function(t){return function(e,n,r,o,i){var s=e.key,a=e.getId(r,o,i);s in t||(t[s]={});var u=t[s][a];t[s][a]=u?e.merge(u,n):n}}(n);return{entities:n,result:function t(e,n,r,o,i){return"object"===(void 0===e?"undefined":qr(e))&&e?"object"!==(void 0===o?"undefined":qr(o))||o.normalize&&"function"==typeof o.normalize?o.normalize(e,n,r,t,i):(Array.isArray(o)?Xr:Qr)(o,e,n,r,t,i):e}(t,t,null,e,r)}}),Yr=function(){function t(){}return t.process=function(t,e){if(yr.isEmpty(e))return{};var n=t.database().schemas[t.model.entity],r=Array.isArray(e)?[n]:n;return Zr(e,r).entities},t}(),to=function(){function t(){}return t.process=function(t,e){return Object.keys(e).forEach(function(n){var r=t.getModel(n);r.hasPivotFields()&&yr.forOwn(r.pivotFields(),function(t){yr.forOwn(t,function(t,n){t.createPivots(r,e,n)})})}),e},t}(),eo=function(){function t(){}return t.process=function(t,e){var n=this;return yr.mapValues(e,function(e,r){var o=t.newQuery(r);return o.model.hasIncrementFields()?(n.processRecordsByFields(e,o),e):e})},t.processRecordsByFields=function(t,e){var n=this,r=e.model.getIncrementFields();yr.forOwn(r,function(r,o){n.processRecords(t,e,o)})},t.processRecords=function(t,e,n){var r=this.max(t,e,n);yr.forOwn(t,function(t){"number"!=typeof t[n]&&(t[n]=++r)})},t.max=function(t,e,n){var r=e.max(n),o=Math.max.apply(Math,yr.map(t,function(t){var e=t[n];return"number"==typeof e?e:0}));return Math.max(o,r)},t}(),no=function(){function t(){}return t.process=function(t,e){return yr.forOwn(e,function(n,r){var o=t.getModel(r).fields();yr.forOwn(n,function(t){yr.forOwn(t,function(n,r){var i=o[r];i instanceof _r&&i.attach(n,t,e)})})}),e},t}(),ro=function(){function t(){}return t.process=function(t,e){var n=this;return yr.mapValues(e,function(e,r){var o=t.newQuery(r);return n.processRecords(e,o)})},t.processRecords=function(t,e){return Object.keys(t).reduce(function(n,r){var o=t[r],i=e.model.id(o),s=isNaN(i)?i:i.toString();return void 0===i||r===s?(n[r]=o,n):(n[s]=lr({},o,{$id:i}),n)},{})},t}(),oo=function(){function t(){}return t.normalize=function(t,e){var n=Yr.process(t,e);return n=eo.process(t,n),n=no.process(t,n),n=to.process(t,n),n=eo.process(t,n),n=ro.process(t,n)},t}(),io=function(){function t(){}return t.filter=function(t,e){var n=this;return 0===t.wheres.length?e:e.filter(function(e){return n.check(t,e)})},t.check=function(t,e){var n=yr.groupBy(t.wheres,function(t){return t.boolean}),r=this.getComparator(t,e),o=[];return n.and&&o.push(n.and.every(r)),n.or&&o.push(n.or.some(r)),-1!==o.indexOf(!0)},t.getComparator=function(t,e){var n=this;return function(r){if("function"==typeof r.field){var o=new ho(t.rootState,t.entity),i=n.executeWhereClosure(o,e,r.field);if("boolean"==typeof i)return i;var s=o.get();return!yr.isEmpty(s.filter(function(t){return t.$id===e.$id}))}return"function"==typeof r.value?r.value(e[r.field]):Array.isArray(r.value)?-1!==r.value.indexOf(e[r.field]):e[r.field]===r.value}},t.executeWhereClosure=function(t,e,n){return 3!==n.length?n(e,t):n(e,t,new t.model(e))},t}(),so=function(){function t(){}return t.filter=function(t,e){if(0===t.orders.length)return e;var n=t.orders.map(function(t){return t.field}),r=t.orders.map(function(t){return t.direction});return yr.orderBy(e,n,r)},t}(),ao=function(){function t(){}return t.filter=function(t,e){return e.slice(t.offsetNumber,t.offsetNumber+t.limitNumber)},t}(),uo=function(){function t(){}return t.where=function(t,e){return io.filter(t,e)},t.orderBy=function(t,e){return so.filter(t,e)},t.limit=function(t,e){return ao.filter(t,e)},t}(),co=function(){function t(){}return t.with=function(t,e,n){var r=this;"*"!==e?e instanceof Array?e.forEach(function(e){return r.with(t,e,n)}):this.parseWithRelations(t,e.split("."),n):this.withAll(t)},t.withAll=function(t,e){void 0===e&&(e=function(){return null});var n=t.model.getFields();for(var r in n)n[r]instanceof _r&&this.with(t,r,e)},t.withAllRecursive=function(t,e){this.withAll(t,function(t){e>0&&t.withAllRecursive(e-1)})},t.setEagerLoad=function(t,e,n){void 0===n&&(n=null),t.load[e]||(t.load[e]=[]),n&&t.load[e].push(n)},t.parseWithRelations=function(t,e,n){var r=this,o=e[0];o.split("|").forEach(function(o){1!==e.length?r.setEagerLoad(t,o):r.setEagerLoad(t,o,n)}),1!==e.length&&(e.shift(),this.addNestedWiths(t,o,e,n))},t.addNestedWiths=function(t,e,n,r){this.setEagerLoad(t,e,function(t){t.with(n.join("."),r)})},t.eagerLoadRelations=function(t,e){var n=t.model.getFields();for(var r in t.load){var o=t.load[r],i=n[r];i instanceof _r&&i.load(t,e,r,o)}},t}(),fo=function(){function t(){}return t.has=function(t,e,n,r){this.setHas(t,e,"exists",n,r)},t.hasNot=function(t,e,n,r){this.setHas(t,e,"doesntExist",n,r)},t.whereHas=function(t,e,n){this.setHas(t,e,"exists",void 0,void 0,n)},t.whereHasNot=function(t,e,n){this.setHas(t,e,"doesntExist",void 0,void 0,n)},t.setHas=function(t,e,n,r,o,i){void 0===r&&(r=">="),void 0===o&&(o=1),void 0===i&&(i=null),"number"!=typeof r?t.have.push({relation:e,type:n,operator:r,count:o,constraint:i}):t.have.push({relation:e,type:n,operator:">=",count:r,constraint:i})},t.applyConstraints=function(t){if(0!==t.have.length){var e=t.newQuery();this.addHasWhereConstraints(t,e),this.addHasConstraints(t,e.get())}},t.addHasWhereConstraints=function(t,e){t.have.forEach(function(t){e.with(t.relation,t.constraint)})},t.addHasConstraints=function(t,e){var n=this.getComparators(t),r=[];e.forEach(function(t){n.every(function(e){return e(t)})&&r.push(t.$id)}),t.whereIdIn(r)},t.getComparators=function(t){var e=this;return t.have.map(function(t){return e.getComparator(t)})},t.getComparator=function(t){var e=this,n=this.getCountComparator(t.operator);return function(r){var o=e.getRelationshipCount(r[t.relation]),i=n(o,t.count);return"exists"===t.type?i:!i}},t.getRelationshipCount=function(t){return Array.isArray(t)?t.length:t?1:0},t.getCountComparator=function(t){switch(t){case"=":return function(t,e){return t===e};case">":return function(t,e){return t>e};case">=":return function(t,e){return t>=e};case"<":return function(t,e){return t>0&&t<e};case"<=":return function(t,e){return t>0&&t<=e};default:return function(t,e){return t===e}}},t}(),lo=function(){function t(t){this.indexToBeDeleted=[],this.query=t}return t.on=function(t,e,n){void 0===n&&(n=!1);var r=this.lastHookId+1;return this.lastHookId=r,this.hooks[t]||(this.hooks[t]=[]),this.hooks[t].push({callback:e,once:n,uid:r}),r},t.off=function(t){var e=this,n=!1;return Object.keys(this.hooks).some(function(r){var o=e.hooks[r],i=o.findIndex(function(e){return e.uid===t});return-1!==i&&(o.splice(i,1),n=!0),n}),n},t.prototype.self=function(){return this.constructor},t.prototype.getHook=function(t){return this.query.model[t]||null},t.prototype.getGlobalHook=function(t){return this.self().hooks[t]||null},t.prototype.has=function(t){return!!this.getHook(t)||!!this.getGlobalHook(t)},t.prototype.executeSelectHook=function(t,e){return this.has(t)?(e=this.executeLocalSelectHook(t,e),e=this.executeGlobalSelectHook(t,e)):e},t.prototype.executeLocalSelectHook=function(t,e){var n=this.getHook(t);return n?n(e,this.query.entity):e},t.prototype.executeGlobalSelectHook=function(t,e){var n=this,r=this.getGlobalHook(t);if(!r)return e;var o=[];return r.forEach(function(t,r){var i=t.callback,s=t.once;e=i.call(n.query,e,n.query.entity),s&&o.push(r)}),o.reverse().forEach(function(t){r.splice(t,1)}),e},t.prototype.executeMutationHookOnRecords=function(t,e){var n=this;this.has(t)&&(Object.keys(e).forEach(function(r){!1===n.executeMutationHook(t,e[r])&&delete e[r]}),this.removeGlobalHook(t))},t.prototype.executeMutationHook=function(t,e){return!1!==this.executeLocalMutationHook(t,e)&&(!1!==this.executeGlobalMutationHook(t,e)&&void 0)},t.prototype.executeLocalMutationHook=function(t,e){var n=this.getHook(t);if(n)return n(e,this.query.entity)},t.prototype.executeGlobalMutationHook=function(t,e){var n=this,r=this.getGlobalHook(t);if(r){var o=[];return r.forEach(function(t,r){o.push(t.callback.call(n.query,e,n.query.entity)),t.once&&n.indexToBeDeleted.push(r)}),!o.includes(!1)&&void 0}},t.prototype.removeGlobalHook=function(t){var e=this.getGlobalHook(t);e&&this.indexToBeDeleted.reverse().forEach(function(t){e.splice(t,1)})},t.hooks={},t.lastHookId=0,t}(),ho=function(){function t(t,e){this.idFilter=null,this.cancelIdFilter=!1,this.joinedIdFilter=null,this.wheres=[],this.have=[],this.orders=[],this.offsetNumber=0,this.limitNumber=Math.pow(2,53)-1,this.load={},this.rootState=t,this.state=t[e],this.entity=e,this.model=this.getModel(e),this.module=this.getModule(e),this.hook=new lo(this)}return t.database=function(){return ur.database},t.getModel=function(t){return this.database().model(t)},t.getModels=function(){return this.database().models()},t.getModule=function(t){return this.database().module(t)},t.getModules=function(){return this.database().modules()},t.deleteAll=function(t){var e=this,n=this.getModels();yr.forOwn(n,function(n,r){t[r]&&new e(t,r).deleteAll()})},t.on=function(t,e,n){return lo.on(t,e,n)},t.off=function(t){return lo.off(t)},t.prototype.self=function(){return this.constructor},t.prototype.newQuery=function(e){return e=e||this.entity,new t(this.rootState,e)},t.prototype.database=function(){return this.self().database()},t.prototype.getModel=function(t){var e=t||this.entity;return this.self().getModel(e)},t.prototype.getModels=function(){return this.self().getModels()},t.prototype.getModule=function(t){var e=t||this.entity;return this.self().getModule(e)},t.prototype.getModules=function(){return this.self().getModules()},t.prototype.all=function(){return this.get()},t.prototype.find=function(t){return this.item(this.state.data[t])},t.prototype.findIn=function(t){var e=this;return t.map(function(t){return e.state.data[t]}).filter(function(t){return t})},t.prototype.get=function(){var t=this.select();return this.collect(t)},t.prototype.first=function(){var t=this.select();return this.item(t[0])},t.prototype.last=function(){var t=this.select();return this.item(t[t.length-1])},t.prototype.where=function(t,e){return this.isIdfilterable(t)&&this.setIdFilter(e),this.wheres.push({field:t,value:e,boolean:"and"}),this},t.prototype.orWhere=function(t,e){return this.cancelIdFilter=!0,this.wheres.push({field:t,value:e,boolean:"or"}),this},t.prototype.whereId=function(t){return this.where(this.model.primaryKey,t)},t.prototype.whereIdIn=function(t){return this.where(this.model.primaryKey,t)},t.prototype.whereFk=function(t,e){var n=Array.isArray(e)?e:[e];return t===this.model.primaryKey?(this.setJoinedIdFilter(n),this):(this.where(t,n),this)},t.prototype.isIdfilterable=function(t){return t===this.model.primaryKey&&!this.cancelIdFilter},t.prototype.setIdFilter=function(t){var e=this,n=Array.isArray(t)?t:[t];null!==this.idFilter?this.idFilter=new Set(n.filter(function(t){return e.idFilter.has(t)})):this.idFilter=new Set(n)},t.prototype.setJoinedIdFilter=function(t){var e=this;null!==this.joinedIdFilter?this.joinedIdFilter=new Set(t.filter(function(t){return e.joinedIdFilter.has(t)})):this.joinedIdFilter=new Set(t)},t.prototype.orderBy=function(t,e){return void 0===e&&(e="asc"),this.orders.push({field:t,direction:e}),this},t.prototype.offset=function(t){return this.offsetNumber=t,this},t.prototype.limit=function(t){return this.limitNumber=t,this},t.prototype.with=function(t,e){return void 0===e&&(e=null),co.with(this,t,e),this},t.prototype.withAll=function(){return co.withAll(this),this},t.prototype.withAllRecursive=function(t){return void 0===t&&(t=3),co.withAllRecursive(this,t),this},t.prototype.has=function(t,e,n){return fo.has(this,t,e,n),this},t.prototype.hasNot=function(t,e,n){return fo.hasNot(this,t,e,n),this},t.prototype.whereHas=function(t,e){return fo.whereHas(this,t,e),this},t.prototype.whereHasNot=function(t,e){return fo.whereHasNot(this,t,e),this},t.prototype.records=function(){var t=this;return this.finalizeIdFilter(),this.getIdsToLookup().map(function(e){var n=t.state.data[e];return n instanceof Tr?n:t.hydrate(n)})},t.prototype.finalizeIdFilter=function(){this.cancelIdFilter&&null!==this.idFilter&&(this.where(this.model.primaryKey,Array.from(this.idFilter.values())),this.idFilter=null)},t.prototype.getIdsToLookup=function(){var t=this;return this.idFilter&&this.joinedIdFilter?Array.from(this.idFilter.values()).filter(function(e){return t.joinedIdFilter.has(e)}):this.idFilter||this.joinedIdFilter?Array.from((this.idFilter||this.joinedIdFilter).values()):Object.keys(this.state.data)},t.prototype.select=function(){fo.applyConstraints(this);var t=this.records();return t=this.hook.executeSelectHook("beforeSelect",t),t=this.filterWhere(t),t=this.hook.executeSelectHook("afterWhere",t),t=this.filterOrderBy(t),t=this.hook.executeSelectHook("afterOrderBy",t),t=this.filterLimit(t),t=this.hook.executeSelectHook("afterLimit",t)},t.prototype.filterWhere=function(t){return uo.where(this,t)},t.prototype.filterOrderBy=function(t){return uo.orderBy(this,t)},t.prototype.filterLimit=function(t){return uo.limit(this,t)},t.prototype.count=function(){return this.get().length},t.prototype.max=function(t){var e=this.get().reduce(function(e,n){return"number"==typeof n[t]&&e.push(n[t]),e},[]);return 0===e.length?0:Math.max.apply(Math,e)},t.prototype.min=function(t){var e=this.get().reduce(function(e,n){return"number"==typeof n[t]&&e.push(n[t]),e},[]);return 0===e.length?0:Math.min.apply(Math,e)},t.prototype.sum=function(t){return this.get().reduce(function(e,n){return"number"==typeof n[t]&&(e+=n[t]),e},0)},t.prototype.item=function(t){if(!t)return null;if(Object.keys(this.load).length>0){t=new this.model(t);var e=this.hook.executeSelectHook("beforeRelations",[t]);t=e[0],co.eagerLoadRelations(this,[t]),t=(e=this.hook.executeSelectHook("afterRelations",[t]))[0]}return t},t.prototype.collect=function(t){var e=this;return t.length<1?[]:(Object.keys(this.load).length>0&&(t=t.map(function(t){return new e.model(t)}),t=this.hook.executeSelectHook("beforeRelations",t),co.eagerLoadRelations(this,t),t=this.hook.executeSelectHook("afterRelations",t)),t)},t.prototype.new=function(){var t=(new this.model).$toJson();return this.insert(t,{})[this.entity][0]},t.prototype.create=function(t,e){return this.persist(t,"create",e)},t.prototype.createMany=function(t){var e=this,n=this.hydrateMany(t);return this.commit("create",n,function(){e.state.data=n}),this.map(n)},t.prototype.insert=function(t,e){return this.persist(t,"insert",e)},t.prototype.insertMany=function(t){var e=this,n=this.hydrateMany(t);return this.commit("create",n,function(){e.state.data=lr({},e.state.data,n)}),this.map(n)},t.prototype.update=function(t,e,n){if(Array.isArray(t))return this.persist(t,"update",n);if("function"==typeof t){if(!e)throw new Error("You must specify `where` to update records by specifying `data` as a closure.");return"function"==typeof e?this.updateByCondition(t,e):this.updateById(t,e)}if("function"==typeof e)return this.updateByCondition(t,e);if(!e)return this.persist(t,"update",n);if(Array.isArray(this.model.primaryKey))throw new Error("\n        You can't specify `where` value as `string` or `number` when you\n        have a composite key defined in your model. Please include composite\n        keys to the `data` fields.\n      ");return this.updateById(t,e)},t.prototype.updateMany=function(t){var e=this.combine(t);return this.commitUpdate(e)},t.prototype.updateById=function(t,e){var n;e="number"==typeof e?e.toString():e;var r=this.state.data[e];if(!r)return null;var o=((n={})[e]=this.processUpdate(t,r),n);return this.commitUpdate(o),o[e]},t.prototype.updateByCondition=function(t,e){var n=this,r=Object.keys(this.state.data).reduce(function(r,o){var i=n.state.data[o];return e(i)?(r[o]=n.processUpdate(t,i),r):r},{});return this.commitUpdate(r)},t.prototype.processUpdate=function(t,e){return"function"==typeof t?(t(e),e):this.hydrate(lr({},e,t))},t.prototype.commitUpdate=function(t){var e=this;return t=this.updateIndexes(t),this.commit("update",t,function(){e.state.data=lr({},e.state.data,t)}),this.map(t)},t.prototype.updateIndexes=function(t){var e=this;return Object.keys(t).reduce(function(t,n){var r=t[n],o=String(e.model.id(r));return n!==o&&(r.$id=o,t[o]=r,delete t[n]),t},t)},t.prototype.insertOrUpdate=function(t,e){return this.persist(t,"insertOrUpdate",e)},t.prototype.insertOrUpdateMany=function(t){var e=this,n={},r={};return Object.keys(t).forEach(function(o){var i=t[o];e.state.data[o]?r[o]=i:n[o]=i}),this.insertMany(n).concat(this.updateMany(r))},t.prototype.persist=function(t,e,n){var r=this;return t=this.normalize(t),yr.isEmpty(t)?("create"===e&&(this.state.data={}),{}):Object.keys(t).reduce(function(o,i){var s=r.newQuery(i)[r.getPersistMethod(i,e,n)+"Many"](t[i]);return s.length>0&&(o[i]=s),o},{})},t.prototype.getPersistMethod=function(t,e,n){return n.create&&n.create.includes(t)?"create":n.insert&&n.insert.includes(t)?"insert":n.update&&n.update.includes(t)?"update":n.insertOrUpdate&&n.insertOrUpdate.includes(t)?"insertOrUpdate":e},t.prototype.delete=function(t){return"function"==typeof t?this.deleteByCondition(t):this.deleteById(t)},t.prototype.deleteById=function(t){var e;t="number"==typeof t?t.toString():t;var n=this.state.data[t];if(!n)return null;var r=((e={})[t]=n,e);return this.commitDelete(r)[0]},t.prototype.deleteByCondition=function(t){var e=this,n=Object.keys(this.state.data).reduce(function(n,r){var o=e.state.data[r];return t(o)?(n[r]=o,n):n},{});return this.commitDelete(n)},t.prototype.deleteAll=function(){var t=this.state.data;this.commitDelete(t)},t.prototype.commitDelete=function(t){var e=this;return this.commit("delete",t,function(){var n=Object.keys(t);e.state.data=Object.keys(e.state.data).reduce(function(t,r){return n.includes(r)||(t[r]=e.state.data[r]),t},{})}),this.map(t)},t.prototype.normalize=function(t){return oo.normalize(this,t)},t.prototype.hydrate=function(t){return new(0,this.model)(t)},t.prototype.hydrateMany=function(t){var e=this;return Object.keys(t).reduce(function(n,r){var o=t[r];return n[r]=e.hydrate(o),n},{})},t.prototype.combine=function(t){var e=this;return Object.keys(t).reduce(function(n,r){var o=e.state.data[r];if(!o)return n;var i=t[r];return n[r]=e.hydrate(lr({},o,i)),n},{})},t.prototype.map=function(t){return Object.keys(t).map(function(e){return t[e]})},t.prototype.commit=function(t,e,n){var r=""+t.charAt(0).toUpperCase()+t.slice(1);this.hook.executeMutationHookOnRecords("before"+r,e),n(),this.hook.executeMutationHookOnRecords("after"+r,e)},t}();!function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS"}(Nr||(Nr={}));!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.$isPersisted=!1,e}a(e,t),e.fetchAll=function(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,function(){return c(this,function(t){return[2,void 0]})})},e.fetch=function(t){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,void 0]})})},e.prototype.$put=function(t){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,void 0]})})},e.prototype.$persist=function(t){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,void 0]})})},e.prototype.$destroy=function(){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,void 0]})})},e.prototype.$deleteAndDestroy=function(){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,void 0]})})}}(Tr);var po=function(){function t(t,e){if(this.models=new Map,this.debugMode=!1,this.components=t,this.options=e,this.database=e.database,this.debugMode=Boolean(e.debug),this.logger=new Ye(this.debugMode),!e.database)throw new Error("database param is required to initialize vuex-orm-rest!")}return t.getInstance=function(){return this.instance},t.setup=function(e,n){this.instance=new t(e,n);var r=n.baseURL,o=n.headers;return this.instance.axios=Ge.create({baseURL:r,headers:o}),this.instance.collectModels(),this.instance.logger.group("Context setup"),this.instance.logger.log("components",this.instance.components),this.instance.logger.log("options",this.instance.options),this.instance.logger.log("database",this.instance.database),this.instance.logger.log("models",this.instance.models),this.instance.logger.groupEnd(),this.instance},t.prototype.getModel=function(t,e){if(void 0===e&&(e=!1),"string"==typeof t){var n=Je(Xe(t));if(t=this.models.get(n),!e&&!t)throw new Error("No such model "+n+"!")}return t},t.prototype.collectModels=function(){var t=this;this.database.entities.forEach(function(e){var n=new Ze(e.model);t.models.set(n.singularName,n),Ze.augment(n)})},t}(),yo=function(){function t(){}return t.insertData=function(t,e){return u(this,void 0,void 0,function(){var n,r=this;return c(this,function(o){switch(o.label){case 0:return n={},[4,Promise.all(Object.keys(t).map(function(o){return u(r,void 0,void 0,function(){var r,i;return c(this,function(s){switch(s.label){case 0:return r=t[o],po.getInstance().logger.log("Inserting records",r),[4,e("insertOrUpdate",{data:r})];case 1:return i=s.sent(),Object.keys(i).forEach(function(t){n[t]||(n[t]=[]),n[t]=n[t].concat(i[t])}),[2]}})})}))];case 1:return o.sent(),[2,n]}})})},t}(),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.call=function(t,e,n){var r=t.state,o=t.dispatch;return u(this,void 0,void 0,function(){var t,n;return c(this,function(i){switch(i.label){case 0:return t=this.getModelFromState(r),[4,this.$request(Nr.GET,t.baseModel.REST_ENDPOINT+"/"+e)];case 1:return n=i.sent(),[2,yo.insertData(n.data,o)]}})})},e}(en),go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.call=function(t,e,n){var r=t.state,o=t.dispatch;return u(this,void 0,void 0,function(){var t,n;return c(this,function(i){switch(i.label){case 0:return t=this.getModelFromState(r),[4,this.$request(Nr.POST,t.baseModel.REST_ENDPOINT,e)];case 1:return n=i.sent(),[2,yo.insertData(n.data,o)]}})})},e}(en),vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.call=function(t,e,n){var r=t.state,o=t.dispatch;return u(this,void 0,void 0,function(){var t,n;return c(this,function(i){switch(i.label){case 0:return t=this.getModelFromState(r),[4,this.$request(Nr.DELETE,t.baseModel.REST_ENDPOINT+"/"+e)];case 1:return n=i.sent(),[2,yo.insertData(n.data,o)]}})})},e}(en),bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.call=function(t,e){var n=t.state,r=t.dispatch;return u(this,void 0,void 0,function(){var t,e;return c(this,function(o){switch(o.label){case 0:return t=this.getModelFromState(n),[4,this.$request(Nr.GET,t.baseModel.REST_ENDPOINT)];case 1:return e=o.sent(),[2,yo.insertData(e.data,r)]}})})},e}(en),wo=function(){function t(e,n){tn.setup(e,n),t.setupActions(),t.setupModelMethods()}return t.setupActions=function(){var t=tn.getInstance();t.components.Actions.fetchAll=bo.call.bind(bo),t.components.Actions.fetch=mo.call.bind(mo),t.components.Actions.persist=go.call.bind(go),t.components.Actions.destroy=vo.call.bind(vo)},t.setupModelMethods=function(){var t=tn.getInstance();t.components.Model.fetch=function(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,function(){var n;return c(this,function(r){return Qe(n=t)||(n={id:t}),[2,this.dispatch("fetch",{filter:n,bypassCache:e})]})})},t.components.Model.fetchAll=function(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,function(){var n;return c(this,function(r){return Qe(n=t)||(n={id:t}),[2,this.dispatch("fetchAll",{filter:n,bypassCache:e})]})})};var e=t.components.Model.prototype;e.$persist=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.$dispatch("persist",{id:this.$id,args:t})]})})},e.$put=function(t){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.$dispatch("put",{data:this,args:t})]})})},e.$destroy=function(){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,this.$dispatch("destroy",{id:this.$id})]})})},e.$deleteAndDestroy=function(){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.$delete()];case 1:return t.sent(),[2,this.$destroy()]}})})}},t.prototype.getContext=function(){return tn.getInstance()},t}();return function(){function t(){}return t.install=function(e,n){return t.instance=new wo(e,n),t.instance},t}()});
//# sourceMappingURL=vuex-orm-rest.umd.js.map
